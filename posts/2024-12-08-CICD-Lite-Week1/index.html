<!DOCTYPE html>
<html lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[CI/CD] Jenkins CI/CD + Docker | Sweet Little Bird</title>
<meta name="generator" content="Jekyll v4.3.3">
<meta property="og:title" content="[CI/CD] Jenkins CI/CD + Docker">
<meta property="og:locale" content="ko">
<meta name="description" content="Jenkinsì™€ Git, Dockerë¥¼ ì´ìš©í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•´ë³´ê² ìŠµë‹ˆë‹¤.">
<meta property="og:description" content="Jenkinsì™€ Git, Dockerë¥¼ ì´ìš©í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•´ë³´ê² ìŠµë‹ˆë‹¤.">
<link rel="canonical" href="https://sweetlittlebird.github.io/posts/2024-12-08-CICD-Lite-Week1/">
<meta property="og:url" content="https://sweetlittlebird.github.io/posts/2024-12-08-CICD-Lite-Week1/">
<meta property="og:site_name" content="Sweet Little Bird">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2024-12-08T00:50:18+09:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="[CI/CD] Jenkins CI/CD + Docker">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-12-08T00:50:18+09:00","datePublished":"2024-12-08T00:50:18+09:00","description":"Jenkinsì™€ Git, Dockerë¥¼ ì´ìš©í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•´ë³´ê² ìŠµë‹ˆë‹¤.","headline":"[CI/CD] Jenkins CI/CD + Docker","mainEntityOfPage":{"@type":"WebPage","@id":"https://sweetlittlebird.github.io/posts/2024-12-08-CICD-Lite-Week1/"},"url":"https://sweetlittlebird.github.io/posts/2024-12-08-CICD-Lite-Week1/"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/assets/dist/photoswipe.min.css">
  <link rel="stylesheet" href="/assets/dist/main.min.css">
  <link rel="stylesheet" href="/assets/dist/main_dark.min.css" media="(prefers-color-scheme: dark)">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pretendard/1.3.9/static/pretendard.css" integrity="sha512-NzqTHTrO48HsIamogmIaVhTXoSgRF24Cn+ynrNYrFuKrY0AdDbmcNieiOHsQARS/r0Gax9VwV3/rVMHs3ipUlg==" crossorigin="anonymous" referrerpolicy="no-referrer">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!--  <link href="https://fonts.googleapis.com/css2?family=Elsie+Swash+Caps:wght@400;900&display=swap" rel="stylesheet">-->
  <link href="https://fonts.googleapis.com/css2?family=Elsie+Swash+Caps:wght@400;900&amp;family=Milonga&amp;display=swap" rel="stylesheet">

  <link rel="shortcut icon" href="/assets/favicon/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/favicon/favicon.ico" type="image/x-icon">
<link type="application/atom+xml" rel="alternate" href="https://sweetlittlebird.github.io/feed.xml" title="Sweet Little Bird">
</head>
<body class="body--contents">
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/">Sweet Little Bird</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
<a class="page-link" href="/about/">ì†Œê°œ</a><a class="page-link" href="/posts/">ê¸€ ëª©ë¡</a>
</div>
      </nav>
</div>
  
  <span id="scroll-indicator"></span>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">[CI/CD] Jenkins CI/CD + Docker</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2024-12-08T00:50:18+09:00" itemprop="datePublished">2024ë…„ 12ì›” 08ì¼ì— ì‘ì„±
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div class="table-of-content">
      <header>ëª©ì°¨</header>
      <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0">ë“¤ì–´ê°€ë©°</a></li>
<li class="toc-entry toc-h2">
<a href="#jenkins-cicd--docker">Jenkins CI/CD + Docker</a>
<ul>
<li class="toc-entry toc-h3"><a href="#cicd%EB%9E%80">CI/CDë€?</a></li>
<li class="toc-entry toc-h3">
<a href="#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EA%B0%9C%EB%B0%9C">ì»¨í…Œì´ë„ˆë¥¼ ì´ìš©í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ</a>
<ul>
<li class="toc-entry toc-h4"><a href="#ruby%EB%A1%9C-%ED%8A%B9%EC%A0%95-%EB%AC%B8%EC%9E%90%EC%97%B4-%EC%B6%9C%EB%A0%A5%ED%95%98%EB%8A%94-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EB%A7%8C%EB%93%A4%EA%B8%B0">rubyë¡œ íŠ¹ì • ë¬¸ìì—´ ì¶œë ¥í•˜ëŠ” ê°„ë‹¨í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸°</a></li>
<li class="toc-entry toc-h4"><a href="#compiling-code-in-docker">Compiling code in Docker</a></li>
<li class="toc-entry toc-h4"><a href="#%EB%A9%80%ED%8B%B0-%EC%8A%A4%ED%85%8C%EC%9D%B4%EC%A7%80-%EB%B9%8C%EB%93%9C">ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œ</a></li>
<li class="toc-entry toc-h4"><a href="#jib%EB%A1%9C-%EC%9E%90%EB%B0%94-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%B9%8C%EB%93%9C">Jibë¡œ ìë°” ì»¨í…Œì´ë„ˆ ë¹Œë“œ</a></li>
<li class="toc-entry toc-h4"><a href="#%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%84%9C%EB%B2%84-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%ED%99%94-%ED%95%98%EA%B8%B0">ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ì»¨í…Œì´ë„ˆí™” í•˜ê¸°</a></li>
<li class="toc-entry toc-h4"><a href="#%EB%A1%9C%EC%BB%AC-%EA%B0%9C%EB%B0%9C%EC%9D%84-%EC%9C%84%ED%95%9C-%EB%B0%A9%EC%95%88">ë¡œì»¬ ê°œë°œì„ ìœ„í•œ ë°©ì•ˆ</a></li>
</ul>
</li>
<li class="toc-entry toc-h3">
<a href="#cicd-%EC%8B%A4%EC%8A%B5%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1">CI/CD ì‹¤ìŠµí™˜ê²½ êµ¬ì„±</a>
<ul>
<li class="toc-entry toc-h4"><a href="#jenkins-%EC%86%8C%EA%B0%9C">Jenkins ì†Œê°œ</a></li>
<li class="toc-entry toc-h4"><a href="#jenkins-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EC%8B%A4%ED%96%89-%EB%B0%8F-%EC%84%A4%EC%A0%95">Jenkins ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ë° ì„¤ì •</a></li>
<li class="toc-entry toc-h4"><a href="#gitlab-%EC%86%8C%EA%B0%9C">Gitlab ì†Œê°œ</a></li>
<li class="toc-entry toc-h4"><a href="#gitlab-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%84%A4%EC%A0%95">Gitlab í”„ë¡œì íŠ¸ ìƒì„± ë° ì„¤ì •</a></li>
<li class="toc-entry toc-h4"><a href="#docker-hub-%EC%86%8C%EA%B0%9C">Docker Hub ì†Œê°œ</a></li>
<li class="toc-entry toc-h4"><a href="#docker-hub%EC%97%90-dev-app-private-repo-%EC%83%9D%EC%84%B1">Docker Hubì— dev-app (private) repo ìƒì„±</a></li>
</ul>
</li>
<li class="toc-entry toc-h3">
<a href="#jenkins-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9">Jenkins ê¸°ë³¸ ì‚¬ìš©</a>
<ul>
<li class="toc-entry toc-h4"><a href="#jenkins-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98">Jenkins í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜</a></li>
<li class="toc-entry toc-h4"><a href="#%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8">íŒŒì´í”„ë¼ì¸</a></li>
<li class="toc-entry toc-h4"><a href="#%EB%8F%84%EC%BB%A4-%EA%B8%B0%EB%B0%98-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EC%9D%98-cicd-%EA%B5%AC%EC%84%B1">ë„ì»¤ ê¸°ë°˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ CI/CD êµ¬ì„±</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#%EB%A7%88%EC%B9%98%EB%A9%B0">ë§ˆì¹˜ë©°</a></li>
</ul>
    </div>
    <h2 id="ë“¤ì–´ê°€ë©°">ë“¤ì–´ê°€ë©°</h2>

<p>ìŠ¤í„°ë”” ì‹œê°„ì´ ë‹¤ì‹œ ëŒì•„ì™”ìŠµë‹ˆë‹¤. ^^ ì´ë²ˆ ìŠ¤í„°ë””ëŠ” 3ì£¼ì°¨ì˜ ë‹¤ì†Œ ì§§ì€ ìŠ¤í„°ë””ë¡œ CI/CDì— ê´€ë ¨í•´ì„œ ì§„í–‰ë©ë‹ˆë‹¤.
ì¦ê±°ìš´ ì—°ë§ ë‹¤ì‹œ í•œë²ˆ ê³¼ì œë¡œ ë‹¬ë ¤ë³´ê² ìŠµë‹ˆë‹¤. <img class="emoji" title=":laughing:" alt=":laughing:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f606.png" height="20" width="20" loading="lazy"></p>

<p>ì´ë²ˆ ì£¼ì—ëŠ” Jenkinsì™€ Git, Dockerë¥¼ ì´ìš©í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>

<h2 id="jenkins-cicd--docker">Jenkins CI/CD + Docker</h2>

<h3 id="cicdë€">CI/CDë€?</h3>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_1.png" alt="img.png" class="image-center" loading="lazy" width="834" height="464">
<em class="image-caption">CI/CD íŒŒì´í”„ë¼ì¸ (ì¶œì²˜:<a href="https://blog.devgenius.io/what-is-ci-cd-concept-375cb226cf3d">Dev Genius</a>)</em></p>

<ul>
  <li>CI/CDëŠ” Continuous Integration(ì§€ì†ì  í†µí•©)ê³¼ Continuous Deployment(ì§€ì†ì  ë°°í¬)ì˜ ì•½ìë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì˜ ê³„íšë‹¨ê³„ì—ì„œ ë¶€í„° ë°°í¬/ìš´ì˜ê¹Œì§€ ì „ ê³¼ì •ì— ê±¸ì³
ìë™í™”ëœ í”„ë¡œì„¸ìŠ¤ë¥¼ í†µí•´ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë¹ ë¥´ê²Œ, ì•ˆì •ì ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë°©ë²•ë¡ ì…ë‹ˆë‹¤.</li>
  <li>CIì™€ CDë¡œ ë‚˜ëˆ ì„œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.
    <ul>
      <li>CI : ì—¬ëŸ¬ ê°œë°œìë“¤ì´ ì‘ì„±í•œ ì½”ë“œë¥¼ í•˜ë‚˜ë¡œ í†µí•©í•˜ëŠ” ì½”ë“œì˜ í†µí•©ì„ ì§€ì†ì ìœ¼ë¡œ ì§„í–‰í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
        <ul>
          <li>CIì˜ ë‹¨ê³„ : ê³„íš -&gt; ì½”ë”© -&gt; ë¹Œë“œ -&gt; í…ŒìŠ¤íŠ¸ -&gt; íŒ¨í‚¤ì§•</li>
        </ul>
      </li>
      <li>CD : CIë¥¼ í†µí•´ ë¹Œë“œëœ ê²°ê³¼ë¬¼ì„ ë°°í¬í•˜ê³  ìš´ì˜í•˜ê³ , ëª¨ë‹ˆí„°ë§ì„ í†µí•´ ê°œì„ í•  ì ì„ íŒŒì•…í•˜ëŠ” ê³¼ì •ì„ ì§€ì†ì ìœ¼ë¡œ ì§„í–‰í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
        <ul>
          <li>CDì˜ ë‹¨ê³„ : ë°°í¬ -&gt; ìš´ì˜ -&gt; ëª¨ë‹ˆí„°ë§ -&gt; í”¼ë“œë°±</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>CI/CDëŠ” ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ ë‹¤ì–‘í•œ íˆ´ë“¤ë¡œ êµ¬ì„±ì´ ë˜ë©° ì´ë²ˆì£¼ì—ëŠ” Jenkinsì™€ Git, Dockerë¥¼ ì´ìš©í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<h3 id="ì»¨í…Œì´ë„ˆë¥¼-ì´ìš©í•œ-ì–´í”Œë¦¬ì¼€ì´ì…˜-ê°œë°œ">ì»¨í…Œì´ë„ˆë¥¼ ì´ìš©í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ</h3>

<p>CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•´ Dockerë¥¼ ì´ìš©í•˜ì—¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì»¨í…Œì´ë„ˆí™”í•˜ê² ìŠµë‹ˆë‹¤.</p>

<h4 id="rubyë¡œ-íŠ¹ì •-ë¬¸ìì—´-ì¶œë ¥í•˜ëŠ”-ê°„ë‹¨í•œ-ì–´í”Œë¦¬ì¼€ì´ì…˜-ë§Œë“¤ê¸°">rubyë¡œ íŠ¹ì • ë¬¸ìì—´ ì¶œë ¥í•˜ëŠ” ê°„ë‹¨í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸°</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span><span class="nb">mkdir </span>1.1 <span class="o">&amp;&amp;</span> <span class="nb">cd </span>1.1
  <span class="nv">$ </span><span class="nb">echo</span> <span class="s1">'puts "Hello Docker!"'</span> <span class="o">&gt;</span> hello.rb
  
  <span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> Dockerfile <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
  FROM ruby:3.3
  COPY hello.rb /app/
  WORKDIR /app
  CMD ["ruby", "hello.rb"]
</span><span class="no">  EOF
  
</span>  <span class="c"># ì´ë¯¸ì§€ ë¹Œë“œ</span>
  <span class="nv">$ </span>docker build <span class="nt">-t</span> hello <span class="nb">.</span>
  <span class="c"># =&gt; [+] Building 36.6s (9/9) FINISHED</span>
  <span class="nv">$ </span>docker image <span class="nb">ls</span> <span class="nt">-f</span> <span class="nv">reference</span><span class="o">=</span>hello
  <span class="c"># =&gt; REPOSITORY   TAG       IMAGE ID       CREATED          SIZE</span>
  <span class="c">#    hello        latest    d0c55f1ebe18   35 seconds ago   1GB</span>
  
  <span class="c"># ì‹¤í–‰</span>
  <span class="nv">$ </span>docker run hello
  <span class="c"># =&gt; Hello Docker!</span>
</code></pre></div></div>

<ul>
  <li>
    <p>ì½”ë“œ ìˆ˜ì •</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="c"># ì½”ë“œ ìˆ˜ì •</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"puts 'Hello CloudNet@'"</span> <span class="o">&gt;</span> hello.rb
  
<span class="c"># ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë¹Œë“œ</span>
<span class="nv">$ </span>docker build <span class="nb">.</span> <span class="nt">-t</span> hello:1
<span class="nv">$ </span>docker image <span class="nb">ls</span> <span class="nt">-f</span> <span class="nv">reference</span><span class="o">=</span>hello
<span class="c"># =&gt; REPOSITORY   TAG       IMAGE ID       CREATED         SIZE</span>
<span class="c">#    hello        1         7fe4f428d492   3 seconds ago   1GB</span>
<span class="c">#    hello        latest    d0c55f1ebe18   3 minutes ago   1GB  </span>
<span class="c"># &lt;span style="color: green;"&gt;ğŸ‘‰ Latest íƒœê·¸ëŠ” IMAGE IDë¥¼ í†µí•´ ì•„ì§ ì´ì „ì˜ ì´ë¯¸ì§€ë¥¼ ê°–ê³  ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/span&gt;</span>
  
<span class="c"># 1ë²ˆ íƒœê·¸ì— ì¶”ê°€ì ìœ¼ë¡œ latest íƒœê·¸ë¥¼ ë¶™ì—¬ë³´ê² ìŠµë‹ˆë‹¤.</span>
<span class="nv">$ </span>docker tag hello:1 hello:latest
<span class="nv">$ </span>docker image <span class="nb">ls</span> <span class="nt">-f</span> <span class="nv">reference</span><span class="o">=</span>hello
<span class="c"># =&gt; REPOSITORY   TAG       IMAGE ID       CREATED          SIZE</span>
<span class="c">#    hello        1         7fe4f428d492   36 seconds ago   1GB</span>
<span class="c">#    hello        latest    7fe4f428d492   36 seconds ago   1GB</span>
<span class="c"># &lt;span style="color: green;"&gt;ğŸ‘‰ Latest íƒœê·¸ë„ ë™ì¼í•œ IMAGE IDë¥¼ ê°–ê²Œë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/span&gt;</span>
  
<span class="c"># ì»¨í…Œì´ë„ˆ ì‹¤í–‰</span>
<span class="nv">$ </span>docker run <span class="nt">--rm</span> hello:1
<span class="c"># =&gt; Hello CloudNet@</span>
<span class="nv">$ </span>docker run <span class="nt">--rm</span> hello
<span class="c"># =&gt; Hello CloudNet@</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="compiling-code-in-docker">Compiling code in Docker</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c"># ì½”ë“œ ì‘ì„±</span>
  <span class="nv">$ </span><span class="nb">mkdir </span>1.2 <span class="o">&amp;&amp;</span> <span class="nb">cd </span>1.2
  
  <span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> Hello.java <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
  class Hello {
      public static void main(String[] args) {
          System.out.println("Hello Docker");
      }
  }
</span><span class="no">  EOF
  
</span>  <span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> Dockerfile <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
  FROM openjdk
  COPY . /app
  WORKDIR /app
  RUN javac Hello.java    # ì»´íŒŒì¼
  CMD java Hello
</span><span class="no">  EOF
  
</span>  <span class="c"># ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë¹Œë“œ</span>
  <span class="nv">$ </span>docker pull openjdk
  <span class="nv">$ </span>docker build <span class="nb">.</span> <span class="nt">-t</span> hello:2 <span class="nt">-t</span> hello:latest
  <span class="c"># =&gt; [+] Building 0.8s (9/9) FINISHED</span>
  <span class="nv">$ </span>docker image <span class="nb">ls</span> <span class="nt">-f</span> <span class="nv">reference</span><span class="o">=</span>hello
  <span class="c"># =&gt; REPOSITORY   TAG       IMAGE ID       CREATED          SIZE</span>
  <span class="c">#    hello        2         ba37ddf45c26   10 seconds ago   487MB</span>
  <span class="c">#    hello        latest    ba37ddf45c26   10 seconds ago   487MB</span>
  <span class="c">#    hello        1         7fe4f428d492   9 minutes ago    1GB</span>
  
  <span class="c"># ì»¨í…Œì´ë„ˆ ì‹¤í–‰</span>
  <span class="nv">$ </span>docker run <span class="nt">--rm</span> hello:2
  <span class="c"># =&gt; Hello Docker</span>
  <span class="nv">$ </span>docker run <span class="nt">--rm</span> hello
  <span class="c"># =&gt; Hello Docker</span>
  
  <span class="c"># ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë‚´ë¶€ì— íŒŒì¼ ëª©ë¡ì„ ë³´ë©´ ì–´ë–¤ê°€ìš”? ê¼­ í•„ìš”í•œ íŒŒì¼ë§Œ ìˆëŠ”ê°€ìš”? ë³´ì•ˆì ìœ¼ë¡œ ì–´ë–¨ê¹Œìš”?</span>
  <span class="nv">$ </span>docker run <span class="nt">--rm</span> hello <span class="nb">ls</span> <span class="nt">-l</span>
  <span class="c"># =&gt; -rw-r--r-- 1 root root  89 Dec  5 15:04 Dockerfile</span>
  <span class="c">#    -rw-r--r-- 1 root root 416 Dec  5 15:05 Hello.class</span>
  <span class="c">#    -rw-r--r-- 1 root root 111 Dec  5 15:04 Hello.java</span>
  <span class="c"># &lt;span style="color: green;"&gt;ğŸ‘‰ ê¼­ í•„ìš”í•œ íŒŒì¼ ì™¸ì—ë„ Dockerfile, *.java íŒŒì¼, java ì»´íŒŒì¼ëŸ¬ ë“±ì´ ìˆìŠµë‹ˆë‹¤.&lt;/span&gt;</span>
  <span class="c"># &lt;span style="color: green;"&gt;   ì´ íŒŒì¼ë“¤ì€ ì •ë³´ ìœ ì¶œì´ë‚˜ ê³µê²© ëŒ€ìƒì´ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì— ì—†ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/span&gt;</span>
  
  <span class="c"># RUN ì»´íŒŒì¼ ì‹œ ì†ŒìŠ¤ì½”ë“œì™€ java ì»´íŒŒì¼ëŸ¬(javac)ê°€ í¬í•¨ë˜ì–´ ìˆìŒ. ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì— í•„ìš” ì—†ìŒ. </span>
  <span class="nv">$ </span>docker run <span class="nt">--rm</span> hello javac <span class="nt">--help</span>
  <span class="c"># =&gt; Usage: javac &amp;lt;options&amp;gt; &amp;lt;source files&amp;gt;</span>
  <span class="c">#    where possible options include:</span>
  <span class="c">#      @&amp;lt;filename&amp;gt;                  Read options and filenames from file</span>
  <span class="c">#    ...</span>
</code></pre></div></div>

<h4 id="ë©€í‹°-ìŠ¤í…Œì´ì§€-ë¹Œë“œ">ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œ</h4>
<ul>
  <li>ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œëŠ” ë¹Œë“œë¥¼ ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ì–´ì„œ ì§„í–‰í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.</li>
  <li>ê° ë‹¨ê³„ë§ˆë‹¤ í•„ìš”í•œ í™˜ê²½ì„ êµ¬ì„±í•˜ì—¬ ë¹Œë“œë¥¼ ì§„í–‰í•˜ê³ , ìµœì¢…ì ìœ¼ë¡œ í•„ìš”í•œ íŒŒì¼ë§Œì„ ì¶”ì¶œí•˜ì—¬ ë¶ˆí•„ìš”í•œ íŒŒì¼ë“¤ì´ ì œì™¸ëœ
ê°€ë³ê³  ì•ˆì „í•œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  <img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_2.png" alt="img.png" class="image-center" loading="lazy" width="678" height="388">
  <em class="image-caption">ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œ ë™ì‘</em>
</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c"># ì½”ë“œ ì‘ì„±</span>
  <span class="nv">$ </span><span class="nb">mkdir </span>1.3 <span class="o">&amp;&amp;</span> <span class="nb">cd </span>1.3
  
  <span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> Hello.java <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
  class Hello {
      public static void main(String[] args) {
          System.out.println("Hello Multistage container build");
      }
  }
</span><span class="no">  EOF
  
</span>  <span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> Dockerfile <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
  FROM openjdk:11 AS buildstage
  COPY . /app
  WORKDIR /app
  RUN javac Hello.java
  
  FROM openjdk:11-jre-slim
  COPY --from=buildstage /app/Hello.class /app/
  WORKDIR /app
  CMD java Hello
</span><span class="no">  EOF
  
</span>  <span class="c"># ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë¹Œë“œ : ìš©ëŸ‰ ë¹„êµ í•´ë³´ì!</span>
  <span class="nv">$ </span>docker build <span class="nb">.</span> <span class="nt">-t</span> hello:3 <span class="nt">-t</span> hello:latest
  <span class="nv">$ </span>docker image <span class="nb">ls</span> <span class="nt">-f</span> <span class="nv">reference</span><span class="o">=</span>hello
  <span class="c"># =&gt; REPOSITORY   TAG       IMAGE ID       CREATED          SIZE</span>
  <span class="c">#    hello        3         4a058414ac44   11 seconds ago   216MB</span>
  <span class="c">#    hello        latest    4a058414ac44   11 seconds ago   216MB</span>
  <span class="c">#    hello        2         ba37ddf45c26   24 minutes ago   487MB</span>
  <span class="c">#    ...</span>
  <span class="c"># &lt;span style="color: green;"&gt;ğŸ‘‰ Compilerê°€ ì—†ëŠ” ê°€ë²¼ìš´ jre ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ í¬ê¸°ë„ ì¤„ì–´ë“  ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/span&gt;</span>
  
  <span class="c"># ì»¨í…Œì´ë„ˆ ì‹¤í–‰</span>
  <span class="nv">$ </span>docker run <span class="nt">--rm</span> hello:3
  <span class="c"># =&gt; Hello Multistage container build</span>
  <span class="nv">$ </span>docker run <span class="nt">--rm</span> hello
  <span class="c"># =&gt; Hello Multistage container build</span>
  
  <span class="c"># ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë‚´ë¶€ì— íŒŒì¼ ëª©ë¡ì„ ë³´ë©´ ì–´ë–¤ê°€ìš”?</span>
  <span class="nv">$ </span>docker run <span class="nt">--rm</span> hello <span class="nb">ls</span> <span class="nt">-l</span>
  <span class="c"># =&gt; total 4</span>
  <span class="c">#    -rw-r--r-- 1 root root 436 Dec  5 15:26 Hello.class</span>
  <span class="nv">$ </span>docker run <span class="nt">--rm</span> hello javac <span class="nt">--help</span>
  <span class="c"># =&gt; docker: Error response from daemon: OCI runtime create failed: container_linux.go:380: starting container process caused: exec: &amp;quot;javac&amp;quot;: executable file not found in $PATH: unknown.</span>
  <span class="c"># &lt;span style="color: green;"&gt;ğŸ‘‰ javacê°€ ì—†ì–´ì„œ ì´ì „ë³´ë‹¤ ì•ˆì „í•œê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/span&gt;</span>
</code></pre></div></div>

<h4 id="jibë¡œ-ìë°”-ì»¨í…Œì´ë„ˆ-ë¹Œë“œ">Jibë¡œ ìë°” ì»¨í…Œì´ë„ˆ ë¹Œë“œ</h4>
<p><a href="https://cloud.google.com/java/getting-started/jib?hl=ko">ë¬¸ì„œ</a>, 
  <a href="https://colevelup.tistory.com/53">ê´€ë ¨ ë¸”ë¡œê·¸1</a>,
  <a href="https://jh-labs.tistory.com/509">ê´€ë ¨ ë¸”ë¡œê·¸2</a></p>
<ul>
  <li>JibëŠ” Googleì—ì„œ ë§Œë“  ì˜¤í”ˆì†ŒìŠ¤ ë„êµ¬ë¡œ, Java ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¡œ ë¹Œë“œí•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.</li>
  <li>JibëŠ” docker ì—†ì´ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ìˆ˜ ìˆìœ¼ë©°, ë¹Œë“œ ì†ë„ê°€ ë¹ ë¥´ê³ , ì´ë¯¸ì§€ í¬ê¸°ê°€ ì‘ì•„ì„œ ë°°í¬ê°€ ìš©ì´í•©ë‹ˆë‹¤.</li>
  <li>Maven ë˜ëŠ” Gradle í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>ê¸°ì¡´ì˜ Docker ì´ë¯¸ì§€ ë¹Œë“œ íë¦„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_3.png" alt="img.png" loading="lazy" width="1370" height="268">
</li>
  <li>JibëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë¹Œë“œ íë¦„ì´ ê°„ì†Œí™”ë©ë‹ˆë‹¤.
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_4.png" alt="img.png" loading="lazy" width="1362" height="122">
    <ul>
      <li>ë¹Œë“œì™€ ë™ì‹œì— ì´ë¯¸ì§€ê°€ ë§Œë“¤ì–´ì§€ê³  ì €ì¥ì†Œì— í‘¸ì‹œê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
      <li>Jenkins ë“±ì˜ CI ì„œë²„ì— Dockerê°€ ì—†ì–´ë„ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>ì´ë¯¸ì§€ ë ˆì´ì–´ ìºì‹±ì„ í†µí•´ ë¹Œë“œ ì†ë„ê°€ ë¹ ë¦…ë‹ˆë‹¤.</li>
      <li>ì´ë¯¸ì§€ í¬ê¸°ê°€ ì‘ì•„ì„œ ë°°í¬ê°€ ìš©ì´í•©ë‹ˆë‹¤.</li>
    </ul>
  </li>
</ul>

<h4 id="ì–´í”Œë¦¬ì¼€ì´ì…˜-ì„œë²„-ì»¨í…Œì´ë„ˆí™”-í•˜ê¸°">ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ì»¨í…Œì´ë„ˆí™” í•˜ê¸°</h4>

<ul>
  <li>ë°ëª¨ë¥¼ ìœ„í•´ HTTP ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì»¨í…Œì´ë„ˆí™” í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
  <li>ë‹¤ìŒì€ ruby ì–¸ì–´ë¡œ ì‘ì„±í•œ ê¸°ë³¸ì ì¸ ì›¹ì„œë²„ë¡œ, í˜„ì¬ ë‚ ì§œì™€ ì‹œê°„ì„ í‘œì‹œí•©ë‹ˆë‹¤.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir </span>1.4 <span class="o">&amp;&amp;</span> <span class="nb">cd </span>1.4

<span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> app.rb <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
require 'sinatra'

get '/' do
  "Hello, World! The time is #{Time.now}"
end
</span><span class="no">EOF

</span><span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> Dockerfile <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
FROM ruby:3.3
RUN gem install sinatra rackup puma
COPY app.rb /app/
WORKDIR /app
CMD ["ruby", "app.rb", "-o", "0.0.0.0"]
</span><span class="no">EOF

</span><span class="c"># ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë¹Œë“œ</span>

<span class="nv">$ </span>docker build <span class="nb">.</span> <span class="nt">-t</span> timeserver:1 <span class="o">&amp;&amp;</span> docker tag timeserver:1 timeserver:latest
<span class="nv">$ </span>docker image <span class="nb">ls</span> <span class="nt">-f</span> <span class="nv">reference</span><span class="o">=</span>timeserver
<span class="c"># =&gt; REPOSITORY   TAG       IMAGE ID       CREATED          SIZE</span>
<span class="c">#    timeserver   1         6393669e5e68   12 seconds ago   1GB</span>
<span class="c">#    timeserver   latest    6393669e5e68   12 seconds ago   1GB</span>

<span class="c"># ì»¨í…Œì´ë„ˆ ì‹¤í–‰</span>
<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 8080:4567 <span class="nt">--name</span><span class="o">=</span>timeserver timeserver

<span class="c"># ì»¨í…Œì´ë„ˆ ì ‘ì† ë° ë¡œê·¸ í™•ì¸</span>
<span class="nv">$ </span>curl http://localhost:8080
<span class="c"># =&gt; Hello, World! The time is 2024-10-01 15:28:18 +0000</span>
<span class="nv">$ </span>docker logs timeserver
<span class="c"># =&gt; Puma starting in single mode...</span>
<span class="c">#    * Puma version: 6.5.0 (&amp;quot;Sky's Version&amp;quot;)</span>
<span class="c">#    == Sinatra (v4.1.1) has taken the stage on 4567 for development with backup from Puma</span>
<span class="c">#    * Ruby version: ruby 3.3.6 (2024-10-01 revision 75015d4c1f) [aarch64-linux]</span>
<span class="c">#    *  Min threads: 0</span>
<span class="c">#    *  Max threads: 5</span>
<span class="c">#    *  Environment: development</span>
<span class="c">#    *          PID: 1</span>
<span class="c">#    * Listening on http://0.0.0.0:4567</span>
<span class="c">#    Use Ctrl-C to stop</span>
<span class="c">#    172.17.0.1 - - [01/Oct/2024:15:28:07 +0000] &amp;quot;GET / HTTP/1.1&amp;quot; 200 51 0.0048</span>

<span class="c"># ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë‚´ë¶€ì— íŒŒì¼ í™•ì¸</span>
<span class="nv">$ </span>docker <span class="nb">exec</span> <span class="nt">-it</span> timeserver <span class="nb">ls</span> <span class="nt">-l</span>
<span class="c"># =&gt; total 4</span>
<span class="c">#    -rw-r--r-- 1 root root 76 Dec  6 15:20 app.rb</span>
</code></pre></div></div>

<ul>
  <li>ë„ì»¤ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ìˆ˜ì •í•´ì„œ ë°˜ì˜ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_5.png" alt="20241205_cicd_lite_w1_5.png" class="image-center" loading="lazy" width="1256" height="730">
<em class="image-caption">vscodeì— docker í™•ì¥ ì„¤ì¹˜</em></p>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_6.png" alt="20241205_cicd_lite_w1_6.png" class="image-center" loading="lazy" width="1256" height="730">
<em class="image-caption">timeserver ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ app.rb íŒŒì¼ ìˆ˜ì •</em></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë‚´ë¶€ì— app.rb íŒŒì¼ ìˆ˜ì • í›„ ë°˜ì˜ í™•ì¸ : VSCODE ê²½ìš° docker í™•ì¥í”„ë¡œê·¸ë¨ í™œìš©</span>
<span class="nv">$ </span>docker <span class="nb">exec</span> <span class="nt">-it</span> timeserver <span class="nb">cat </span>app.rb
<span class="c"># =&gt; require 'sinatra'</span>
<span class="c">#    </span>
<span class="c">#    get '/' do</span>
<span class="c">#      &amp;quot;Hello, World! ğŸ˜€ The time is #{Time.now}&amp;quot;</span>
<span class="c">#    end</span>

<span class="c"># ì»¨í…Œì´ë„ˆ ì ‘ì† í›„ í™•ì¸ </span>
<span class="nv">$ </span>curl http://localhost:8080
<span class="c"># =&gt; Hello, World! The time is 2024-10-01 15:45:09 +0000%</span>
<span class="c"># &lt;span style="color: green;"&gt;ğŸ‘‰ ìˆ˜ì • ì‚¬í•­ì´ ë°˜ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!&lt;/span&gt;</span>

<span class="c"># ì»¨í…Œì´ë„ˆ ì‚­ì œ</span>
<span class="nv">$ </span>docker <span class="nb">rm</span> <span class="nt">-f</span> timeserver
</code></pre></div></div>

<ul>
  <li>ì–´í”Œë¦¬ì¼€ì´ì…˜ ìˆ˜ì •í•´ì„œ í…ŒìŠ¤íŠ¸</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s#World!#World! ğŸ˜€ Hello CloudNeta Study!#'</span> app.rb
<span class="nv">$ </span><span class="nb">cat </span>app.rb
<span class="c"># =&gt; require 'sinatra'</span>
<span class="c">#    </span>
<span class="c">#    get '/' do</span>
<span class="c">#      &amp;quot;Hello, World! ğŸ˜€ Hello CloudNeta Study! The time is #{Time.now}&amp;quot;</span>
<span class="c">#    end</span>

<span class="c"># ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë¹Œë“œ</span>
<span class="nv">$ </span>docker build <span class="nb">.</span> <span class="nt">-t</span> timeserver:2 <span class="nt">-t</span> timeserver:latest
<span class="nv">$ </span>docker image <span class="nb">ls</span> <span class="nt">-f</span> <span class="nv">reference</span><span class="o">=</span>timeserver
<span class="c"># =&gt; REPOSITORY   TAG       IMAGE ID       CREATED          SIZE</span>
<span class="c">#    timeserver   2         80f230757e3c   2 seconds ago    1.01GB</span>
<span class="c">#    timeserver   latest    80f230757e3c   2 seconds ago    1.01GB</span>
<span class="c">#    timeserver   1         c7055ab70155   27 minutes ago   1.01GB</span>

<span class="c"># ì»¨í…Œì´ë„ˆ ì‹¤í–‰</span>
<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 8080:4567 <span class="nt">--name</span><span class="o">=</span>timeserver timeserver
<span class="c"># =&gt; 278108d26b3998c8281add75b631d59a9d44abd4eb3e4f173b0b156d66e5da75</span>

<span class="c"># ì»¨í…Œì´ë„ˆ ì ‘ì† ë° ë¡œê·¸ í™•ì¸</span>
<span class="nv">$ </span>curl http://localhost:8080
<span class="c"># =&gt; Hello, World! ğŸ˜€ Hello CloudNeta Study! The time is 2024-10-01 15:55:19 +0000</span>

<span class="c"># ì»¨í…Œì´ë„ˆ ì‚­ì œ</span>
<span class="nv">$ </span>docker <span class="nb">rm</span> <span class="nt">-f</span> timeserver
</code></pre></div></div>

<h4 id="ë¡œì»¬-ê°œë°œì„-ìœ„í•œ-ë°©ì•ˆ">ë¡œì»¬ ê°œë°œì„ ìœ„í•œ ë°©ì•ˆ</h4>

<ul>
  <li>ì†ŒìŠ¤ë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ìœ„ì™€ ê°™ì´ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  ì‹¤í–‰í•˜ëŠ” ê²ƒì€ ë²ˆê±°ë¡­ìŠµë‹ˆë‹¤.</li>
  <li>ì´ë¥¼ í¸ë¦¬í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ ë¡œì»¬ í´ë”ì™€ ì»¨í…Œì´ë„ˆì˜ ì•± ì†ŒìŠ¤ë¥¼ ë§¤í•‘í•˜ê³ , ì½”ë“œ ë‚´ìš©ì„ ë™ì ìœ¼ë¡œ ë°˜ì˜í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir </span>1.5 <span class="o">&amp;&amp;</span> <span class="nb">cd </span>1.5

<span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> app.rb <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
require 'sinatra/base'

class App &lt; Sinatra::Base
  get '/' do
    "Hello, World! The time is #{Time.now}"
  end
end
</span><span class="no">EOF

</span><span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> config.ru <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
require 'rack/unreloader'
require 'sinatra'
Unreloader = Rack::Unreloader.new{App}
Unreloader.require './app.rb'

run Unreloader
</span><span class="no">EOF

</span><span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> Dockerfile <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
FROM ruby:3.3
RUN gem install sinatra rackup puma </span><span class="se">\</span><span class="sh">
    rack-unreloader # ì†ŒìŠ¤ì½”ë“œ ë³€ê²½ì‹œ ìë™ìœ¼ë¡œ ë°˜ì˜í•˜ê¸°ìœ„í•œ íˆ´
COPY app.rb config.ru /app/
WORKDIR /app
CMD ["rackup", "--host", "0.0.0.0"]
</span><span class="no">EOF

</span><span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> docker-compose.yaml <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
services:
  frontend:
    build: .
    command: rackup --host 0.0.0.0
    volumes:
      - type: bind
        source: .
        target: /app
    ports:
      - "8080:9292"
</span><span class="no">EOF

</span><span class="c"># ë„ì»¤ ì»´í¬ì¦ˆë¡œ ì»¨í…Œì´ë„ˆ ë¹Œë“œ</span>
<span class="nv">$ </span>docker compose build 
<span class="c"># ë„ì»¤ ì»´í¬ì¦ˆë¡œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ </span>
<span class="nv">$ </span>docker compose up <span class="nt">-d</span>
<span class="c"># =&gt; [+] Running 1/1</span>
<span class="c">#     â ¿ Container 15-frontend-1  Started 0.4s</span>

<span class="c"># ì»´í¬ì¦ˆë¡œ ì‹¤í–‰ ì‹œ ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆ ë„¤ì´ë° ê·œì¹™ì„ ì•Œì•„ë³´ì!</span>
<span class="nv">$ </span>docker compose ps
<span class="c"># =&gt; NAME                COMMAND                  SERVICE             STATUS              PORTS</span>
<span class="c">#    15-frontend-1       &amp;quot;rackup --host 0.0.0â€¦&amp;quot;   frontend            running             0.0.0.0:8080-&amp;gt;9292/tcp</span>
<span class="c"># &lt;span style="color: green;"&gt;ğŸ‘‰ ì»´í¬ì¦ˆë¡œ ì‹¤í–‰ì‹œ í˜„ì¬ ë””ë ‰í„°ë¦¬ ì´ë¦„ì—ì„œ íŠ¹ìˆ˜ë¬¸ìë¥¼ ì œì™¸í•œ ê²ƒì— ì»¨í…Œì´ë„ˆ ì´ë¦„ì— "-1"ë¥¼ ë¶™ì´ëŠ”ë“¯ í•©ë‹ˆë‹¤.&lt;/span&gt;</span>

<span class="nv">$ </span>docker compose images
<span class="c"># =&gt; Container           Repository          Tag                 Image Id            Size</span>
<span class="c">#    15-frontend-1       15_frontend         latest              4aa2b680f319        1.01GB</span>

<span class="c">#</span>
<span class="nv">$ </span>curl http://localhost:8080
<span class="c"># =&gt; Hello, World! The time is 2024-10-01 05:55:18 +0000!!!!!%</span>
<span class="nv">$ </span>docker compose logs
<span class="c"># =&gt; 15-frontend-1  | Puma starting in single mode...</span>
<span class="c">#    15-frontend-1  | * Puma version: 6.5.0 (&amp;quot;Sky's Version&amp;quot;)</span>
<span class="c">#    15-frontend-1  | * Ruby version: ruby 3.3.6 (2024-10-01 revision 75015d4c1f) [aarch64-linux]</span>
<span class="c">#    15-frontend-1  | *  Min threads: 0</span>
<span class="c">#    15-frontend-1  | *  Max threads: 5</span>
<span class="c">#    15-frontend-1  | *  Environment: development</span>
<span class="c">#    15-frontend-1  | *          PID: 1</span>
<span class="c">#    15-frontend-1  | * Listening on http://0.0.0.0:9292</span>
<span class="c">#    15-frontend-1  | Use Ctrl-C to stop</span>
<span class="c">#    15-frontend-1  | 172.23.0.1 - - [01/Oct/2024:03:58:23 +0000] &amp;quot;GET / HTTP/1.1&amp;quot; 200 51 0.0153</span>
</code></pre></div></div>

<ul>
  <li>ì†ŒìŠ¤ì½”ë“œ ìˆ˜ì • í›„ ë°˜ì˜ í™•ì¸</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat </span>app.rb
<span class="c"># =&gt; require 'sinatra/base'</span>
<span class="c">#    </span>
<span class="c">#    class App &amp;lt; Sinatra::Base</span>
<span class="c">#      get '/' do</span>
<span class="c">#        &amp;quot;Hello, World! The time is #{Time.now}&amp;quot;</span>
<span class="c">#      end</span>
<span class="c">#    end</span>

<span class="c"># ì†ŒìŠ¤ì½”ë“œ ìˆ˜ì •</span>
<span class="nv">$ </span><span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s#World!#World! ğŸ˜€ Hello CloudNeta Study!#'</span> app.rb
<span class="nv">$ </span><span class="nb">cat </span>app.rb
<span class="c"># =&gt; require 'sinatra/base'</span>
<span class="c">#    </span>
<span class="c">#    class App &amp;lt; Sinatra::Base</span>
<span class="c">#      get '/' do</span>
<span class="c">#        &amp;quot;Hello, World! ğŸ˜€ Hello CloudNeta Study! The time is #{Time.now}!!!!!&amp;quot;</span>
<span class="c">#      end</span>
<span class="c">#    end</span>

<span class="nv">$ </span>curl http://localhost:8080
<span class="c"># =&gt; Hello, World! ğŸ˜€ Hello CloudNeta Study! The time is 2024-10-01 05:57:05 +0000!!!!!</span>
<span class="c"># &lt;span style="color: green;"&gt;ğŸ‘‰ ë³€ê²½ì‚¬í•­ì´ ì˜ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤. :)&lt;/span&gt;</span>

<span class="c"># ì»¨í…Œì´ë„ˆ ì¤‘ì§€ ë° ì‚­ì œ</span>
<span class="nv">$ </span>docker compose down
</code></pre></div></div>

<h3 id="cicd-ì‹¤ìŠµí™˜ê²½-êµ¬ì„±">CI/CD ì‹¤ìŠµí™˜ê²½ êµ¬ì„±</h3>

<ul>
  <li>Jenkinsì™€ Gitlabì„ ì´ìš©í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
  <li>JenkinsëŠ” Dockerì— ì„¤ì¹˜í•´ì„œ ì‚¬ìš©í•˜ê³  Gitlabì€ <a href="https://www.gitlab.com">gitlab.com</a>ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<h4 id="jenkins-ì†Œê°œ">Jenkins ì†Œê°œ</h4>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_7.png" alt="img.png" class="image-center" loading="lazy" width="226" height="312"></p>
<ul>
  <li>JenkinsëŠ” ì˜¤í”ˆì†ŒìŠ¤ CI/CD ë„êµ¬ë¡œ, ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ë°°í¬ ë“±ì˜ ì‘ì—…ì„ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>JenkinsëŠ” CI/CDë¼ëŠ” ìš©ì–´ê°€ ìˆê¸° ì „ë¶€í„° ì‚¬ìš©ë˜ë˜ ë„êµ¬ë¡œ, CI/CDì— êµ­í•œë˜ì§€ ì•Šê³  ë‹¤ì–‘í•œ ì‘ì—…ì„ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>ì£¼ìš” ê¸°ëŠ¥ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
    <ol>
      <li>
<strong>í™•ì¥ì„±</strong> : ë‹¤ì–‘í•œ í”ŒëŸ¬ê·¸ì¸ ìƒíƒœê³„ë¥¼ ê°€ì§€ê³  ìˆì–´ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Git, Docker, Kubernetes ë“± ë‹¤ì–‘í•œ ë„êµ¬ ë° í”Œë«í¼ê³¼ í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>
<strong>ë¶„ì‚° ë¹Œë“œ</strong> : ë¶„ì‚° ë¹Œë“œë¥¼ ì§€ì›í•˜ì—¬ ì—¬ëŸ¬ ë¨¸ì‹ ì—ì„œ ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë¶€í•˜ë¥¼ ë¶„ì‚°ì‹œí‚¤ê³  ë¹Œë“œ ì†ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>
<strong>ìë™í™”ëœ í…ŒìŠ¤íŠ¸</strong> : í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì„ ìë™í™”í•˜ì—¬ ì½”ë“œ í’ˆì§ˆì— ëŒ€í•œ ì¦‰ê°ì ì¸ í”¼ë“œë°±ì„ ì œê³µí•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ë° ë„êµ¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.</li>
      <li>
<strong>ì½”ë“œ íŒŒì´í”„ë¼ì¸</strong> : Jenkinsfileì„ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ë°°í¬ íŒŒì´í”„ë¼ì¸ì„ ì½”ë“œë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë²„ì „ ê´€ë¦¬ì™€ í˜‘ì—…ì´ ìš©ì´í•©ë‹ˆë‹¤.</li>
      <li>
<strong>ì§€ì†ì  í†µí•© ë° ì§€ì†ì  ë°°í¬ (CI/CD)</strong> : ì½”ë“œ ë³€ê²½ ì‚¬í•­ì„ í†µí•©í•˜ê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•˜ê³ , í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³ , ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ìë™í™”í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì¼ê´€ë˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë°°í¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.</li>
    </ol>
  </li>
  <li>í”íˆ ì‚¬ìš©ë˜ëŠ” CI/CD ì›Œí¬í”Œë¡œìš°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
    <ol>
      <li>
<strong>ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°</strong> : ê°œë°œì„ ìœ„í•´ ì¤‘ì•™ ì½”ë“œ ë¦¬í¬ì§€í„°ë¦¬ì—ì„œ ë¡œì»¬ ì‹œìŠ¤í…œìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìµœì‹  ì½”ë“œë¥¼ ê°€ì ¸</li>
      <li>
<strong>ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ êµ¬í˜„ê³¼ ì‹¤í–‰</strong> : ì½”ë“œ ì‘ì„± ì „ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë¨¼ì € ì‘ì„±</li>
      <li>
<strong>ì½”ë“œ ê°œë°œ</strong> : ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì„±ê³µìœ¼ë¡œ ë°”ê¾¸ë©´ì„œ ì½”ë“œ ê°œë°œ</li>
      <li>
<strong>ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¬ì‹¤í–‰</strong> : ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‹¤í–‰ ì‹œ í†µê³¼(ì„±ê³µ!)</li>
      <li>
<strong>ì½”ë“œ í‘¸ì‹œì™€ ë³‘í•©</strong> : ê°œë°œ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì¤‘ì•™ ë¦¬í¬ì§€í„°ë¦¬ë¡œ í‘¸ì‹œí•˜ê³ , ì½”ë“œ ë³‘í•©</li>
      <li>
<strong>ì½”ë“œ ë³‘í•© í›„ ì»´íŒŒì¼</strong> : ë³€ê²½ í•¨ìˆ˜ ì½”ë“œê°€ ë³‘í•¨ë˜ë©´ ì „ì²´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì»´íŒŒì¼ëœë‹¤</li>
      <li>
<strong>ë³‘í•©ëœ ì½”ë“œì—ì„œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰</strong> : ê°œë³„ í…ŒìŠ¤íŠ¸ë¿ë§Œ ì•„ë‹ˆë¼ ì „ì²´ í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ë¬¸ì œ ì—†ëŠ”ì§€ í™•ì¸</li>
      <li>
<strong>ì•„í‹°íŒ©íŠ¸ ë°°í¬</strong> : ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•˜ê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ì˜ í”„ë¡œë•ì…˜ í™˜ê²½ì— ë°°í¬</li>
      <li>
<strong>ë°°í¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ E-E í…ŒìŠ¤íŠ¸ ì‹¤í–‰</strong> : ì…€ë ˆëŠ„ Seleniumê³¼ ê°™ì€ User Interface ìë™í™” ë„êµ¬ë¥¼ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì²´ ì›Œí¬í”Œë¡œê°€ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì¢…ë‹¨ê°„ End-to-End í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰.</li>
    </ol>
  </li>
  <li>ì´ëŸ¬í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì½”ë“œ ì»¤ë°‹/í‘¸ì‹œì™€ ê°™ì€ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>

<h5 id="jenkins-ì»¨í…Œì´ë„ˆì—ì„œ-í˜¸ìŠ¤íŠ¸ì—-ë„ì»¤-ë°ëª¬-ì‚¬ìš©-ì„¤ì •">Jenkins ì»¨í…Œì´ë„ˆì—ì„œ í˜¸ìŠ¤íŠ¸ì— ë„ì»¤ ë°ëª¬ ì‚¬ìš© ì„¤ì •</h5>

<ul>
  <li>ì»¨í…Œì´ë„ˆì—ì„œ ë„ì»¤ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” DinD(Docker in Docker)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ë„ì»¤ë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜
DooD(Docker outside of Docker)ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ìŠ¤íŠ¸ì˜ ë„ì»¤ ë°ëª¬ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>ì´ë²ˆì—ëŠ” Docker outside of Dockerë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ìŠ¤íŠ¸ì˜ ë„ì»¤ ë°ëª¬ì„ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_8.png" alt="img.png" class="image-center" loading="lazy" width="2668" height="1164">
<em class="image-caption">DinDì™€ DooD êµ¬ì¡° ë¹„êµ</em>
</li>
</ul>

<h4 id="jenkins-ì»¨í…Œì´ë„ˆ-ì‹¤í–‰-ë°-ì„¤ì •">Jenkins ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ë° ì„¤ì •</h4>

<ul>
  <li>ë¨¼ì € Jenkins ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì‘ì—… ë””ë ‰í† ë¦¬ ìƒì„± í›„ ì´ë™</span>
<span class="nv">$ </span><span class="nb">mkdir </span>cicd-labs <span class="o">&amp;&amp;</span> <span class="nb">cd </span>cicd-labs

<span class="c"># </span>
<span class="nv">$ </span><span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOT</span><span class="sh"> &gt; docker-compose.yaml
services:
  jenkins:
    container_name: jenkins
    image: jenkins/jenkins
    restart: unless-stopped
    networks:
      - cicd-network
    ports:
      - "8080:8080"
      - "50000:50000"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - jenkins_home:/var/jenkins_home
volumes:
  jenkins_home:
networks:
  cicd-network:
    driver: bridge
</span><span class="no">EOT

</span><span class="c"># ë°°í¬</span>
<span class="nv">$ </span>docker compose up <span class="nt">-d</span>
<span class="c"># =&gt; [+] Running 13/13</span>
<span class="c">#     â ¿ jenkins Pulled                                                                                                                                                      13.7s</span>
<span class="c">#    [+] Running 3/3</span>
<span class="c">#     â ¿ Network cicd-labs_cicd-network   Created                                                                                                                             0.0s</span>
<span class="c">#     â ¿ Volume &amp;quot;cicd-labs_jenkins_home&amp;quot;  Created                                                                                                                             0.0s</span>
<span class="c">#     â ¿ Container jenkins                Started</span>
<span class="nv">$ </span>docker compose ps
<span class="c"># =&gt; NAME                COMMAND                  SERVICE             STATUS              PORTS</span>
<span class="c">#    jenkins             &amp;quot;/usr/bin/tini -- /uâ€¦&amp;quot;   jenkins             running             0.0.0.0:8080-&amp;gt;8080/tcp, 0.0.0.0:50000-&amp;gt;50000/tcp</span>

<span class="c"># ê¸°ë³¸ ì •ë³´ í™•ì¸</span>
<span class="nv">$ </span><span class="k">for </span>i <span class="k">in </span>jenkins <span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="s2">"&gt;&gt; container : </span><span class="nv">$i</span><span class="s2"> &lt;&lt;"</span><span class="p">;</span> docker compose <span class="nb">exec</span> <span class="nv">$i</span> sh <span class="nt">-c</span> <span class="s2">"whoami &amp;&amp; pwd"</span><span class="p">;</span> <span class="nb">echo</span><span class="p">;</span> <span class="k">done</span>
<span class="c"># =&gt; &amp;gt;&amp;gt; container : jenkins &amp;lt;&amp;lt;</span>
<span class="c">#    jenkins</span>
<span class="c">#    /</span>

<span class="c"># ë„ì»¤ë¥¼ ì´ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆë¡œ ì ‘ì†</span>
<span class="nv">$ </span>docker compose <span class="nb">exec </span>jenkins bash
<span class="nv">$ </span><span class="nb">exit</span>
</code></pre></div></div>

<ul>
  <li>Jenkins ì´ˆê¸° ì„¤ì •ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ í™•ì¸</span>
<span class="nv">$ </span>docker compose <span class="nb">exec </span>jenkins <span class="nb">cat</span> /var/jenkins_home/secrets/initialAdminPassword
<span class="c"># =&gt; dcc757c8c4f14fc09795ed0440baf157</span>

<span class="c"># ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†í•˜ì—¬ ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ ì…ë ¥í›„ ì„¤ì • ì§„í–‰ : ê³„ì • / ì•”í˜¸ ì…ë ¥ &gt;&gt; admin / qwe123</span>
<span class="nv">$ </span>open http://localhost:8080
</code></pre></div></div>

<ul>
  <li>jenkins ì»¨í…Œì´ë„ˆì—ì„œ í˜¸ìŠ¤íŠ¸ì˜ ë„ì»¤ ë°ëª¬ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì„¤ì •ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># jenkins ì»¨í…Œì´ë„ˆì—ì„œ í˜¸ìŠ¤íŠ¸ì˜ ë„ì»¤ ë°ëª¬ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì„¤ì •</span>
<span class="nv">$ </span>docker compose <span class="nb">exec</span> <span class="nt">--privileged</span> <span class="nt">-u</span> root jenkins bash
<span class="nt">-----------------------------------------------------</span>
<span class="nv">$ </span><span class="nb">id</span>
<span class="c"># =&gt; uid=0(root) gid=0(root) groups=0(root)</span>

<span class="nv">$ </span>curl <span class="nt">-fsSL</span> https://download.docker.com/linux/debian/gpg <span class="nt">-o</span> /etc/apt/keyrings/docker.asc
<span class="nv">$ </span><span class="nb">chmod </span>a+r /etc/apt/keyrings/docker.asc
<span class="nv">$ </span><span class="nb">echo</span> <span class="se">\</span>
  <span class="s2">"deb [arch=</span><span class="si">$(</span>dpkg <span class="nt">--print-architecture</span><span class="si">)</span><span class="s2"> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian </span><span class="se">\</span><span class="s2">
  </span><span class="si">$(</span><span class="nb">.</span> /etc/os-release <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$VERSION_CODENAME</span><span class="s2">"</span><span class="si">)</span><span class="s2"> stable"</span> | <span class="se">\</span>
  <span class="nb">tee</span> /etc/apt/sources.list.d/docker.list <span class="o">&gt;</span> /dev/null
<span class="nv">$ </span>apt-get update <span class="o">&amp;&amp;</span> apt <span class="nb">install </span>docker-ce-cli curl tree jq <span class="nt">-y</span>

<span class="nv">$ </span>docker info
<span class="c"># =&gt; Client: Docker Engine - Community</span>
<span class="c">#     Version:    27.3.1</span>
<span class="c">#     Context:    default</span>
<span class="c">#     Debug Mode: false</span>
<span class="c">#     Plugins:</span>
<span class="c">#      buildx: Docker Buildx (Docker Inc.)</span>
<span class="c">#        Version:  v0.17.1</span>
<span class="c">#        Path:     /usr/libexec/docker/cli-plugins/docker-buildx</span>
<span class="c">#      compose: Docker Compose (Docker Inc.)</span>
<span class="c">#        Version:  v2.29.7</span>
<span class="c">#        Path:     /usr/libexec/docker/cli-plugins/docker-compose</span>
<span class="c">#    </span>
<span class="c">#    Server:</span>
<span class="c">#     Containers: 27</span>
<span class="c">#      Running: 3</span>
<span class="c">#      Paused: 0</span>
<span class="c">#      Stopped: 24</span>
<span class="c">#     Images: 37</span>
<span class="c">#     Server Version: 20.10.12</span>
<span class="c">#     Storage Driver: overlay2</span>
<span class="c">#      Backing Filesystem: extfs</span>
<span class="c">#      Supports d_type: true</span>
<span class="c">#    ...</span>
<span class="nv">$ </span>docker ps
<span class="c"># =&gt; CONTAINER ID   IMAGE                  COMMAND                  CREATED          STATUS          PORTS                                              NAMES</span>
<span class="c">#    06409fe2219f   jenkins/jenkins        &amp;quot;/usr/bin/tini -- /uâ€¦&amp;quot;   25 minutes ago   Up 25 minutes   0.0.0.0:8080-&amp;gt;8080/tcp, 0.0.0.0:50000-&amp;gt;50000/tcp   jenkins</span>
<span class="c"># &lt;span style="color: green;"&gt;ğŸ‘‰ Docker-out-of-Docker ì´ê¸° ë•Œë¬¸ì— í˜¸ìŠ¤íŠ¸ ë„ì»¤ ë°ëª¬ì—ì„œ ìš´ì˜ë˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!&lt;/span&gt;</span>
<span class="nv">$ </span>which docker
<span class="c"># =&gt; /usr/bin/docker</span>

<span class="c"># Jenkins ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ rootê°€ ì•„ë‹Œ jenkins ìœ ì €ë„ dockerë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ê¶Œí•œì„ ë¶€ì—¬</span>
<span class="nv">$ </span>groupadd <span class="nt">-g</span> 2000 <span class="nt">-f</span> docker
<span class="nv">$ </span><span class="nb">chgrp </span>docker /var/run/docker.sock
<span class="nv">$ </span><span class="nb">chmod </span>770 /var/run/docker.sock
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> /var/run/docker.sock
<span class="c"># =&gt; srwxr-xr-x 1 root docker 0 Dec  7 03:12 /var/run/docker.sock</span>
<span class="nv">$ </span>usermod <span class="nt">-aG</span> docker jenkins
<span class="nv">$ </span><span class="nb">cat</span> /etc/group | <span class="nb">grep </span>docker
<span class="c"># =&gt; docker:x:2000:jenkins</span>

<span class="nv">$ </span><span class="nb">exit</span>
<span class="nt">--------------------------------------------</span>

<span class="c"># jenkins item ì‹¤í–‰ ì‹œ docker ëª…ë ¹ ì‹¤í–‰ ê¶Œí•œ ì—ëŸ¬ ë°œìƒ : Jenkins ì»¨í…Œì´ë„ˆ ì¬ê¸°ë™ìœ¼ë¡œ ìœ„ ì„¤ì • ë‚´ìš©ì„ Jenkins app ì—ë„ ì ìš© í•„ìš”</span>
<span class="nv">$ </span>docker compose restart jenkins
<span class="c"># $ sudo docker compose restart jenkins  # Windows ê²½ìš° ì´í›„ë¶€í„° sudo ë¶™ì—¬ì„œ ì‹¤í–‰</span>

<span class="c"># jenkins userë¡œ docker ëª…ë ¹ ì‹¤í–‰ í™•ì¸</span>
<span class="nv">$ </span>docker compose <span class="nb">exec </span>jenkins <span class="nb">id</span>
<span class="c"># =&gt; uid=1000(jenkins) gid=1000(jenkins) groups=1000(jenkins),2000(docker)</span>
<span class="nv">$ </span>docker compose <span class="nb">exec </span>jenkins docker info
<span class="c"># =&gt; Client: Docker Engine - Community</span>
<span class="c">#     Version:    27.3.1</span>
<span class="c">#     Context:    default</span>
<span class="c">#     ...</span>
<span class="c">#    </span>
<span class="c">#    Server:</span>
<span class="c">#     Containers: 27</span>
<span class="c">#      Running: 3</span>
<span class="c">#      Paused: 0</span>
<span class="c">#      Stopped: 24</span>
<span class="c">#     Images: 37</span>
<span class="c">#     Server Version: 20.10.12</span>
<span class="c">#    ...</span>
<span class="nv">$ </span>docker compose <span class="nb">exec </span>jenkins docker ps
<span class="c"># =&gt; CONTAINER ID   IMAGE                  COMMAND                  CREATED          STATUS         PORTS                                              NAMES</span>
<span class="c">#    06409fe2219f   jenkins/jenkins        &amp;quot;/usr/bin/tini -- /uâ€¦&amp;quot;   30 minutes ago   Up 2 minutes   0.0.0.0:8080-&amp;gt;8080/tcp, 0.0.0.0:50000-&amp;gt;50000/tcp   jenkins</span>
<span class="c">#    ...</span>
</code></pre></div></div>

<h4 id="gitlab-ì†Œê°œ">Gitlab ì†Œê°œ</h4>

<ul>
  <li>Gitlabì€ Githubì™€ ìœ ì‚¬í•œ Git ê¸°ë°˜ì˜ ì½”ë“œ ì €ì¥ì†Œ ì„œë¹„ìŠ¤ë¡œ, ì½”ë“œ ì €ì¥ì†Œ, ì´ìŠˆ íŠ¸ë˜ì»¤, CI/CD íŒŒì´í”„ë¼ì¸, ì½”ë“œ ê²€í†  ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
<a href="https://www.gitlab.com">Gitlab.com</a>
</li>
  <li>ì´ë²ˆ ì‹¤ìŠµì—ì„œëŠ” ì½”ë“œ ì €ì¥ì†Œ ê¸°ëŠ¥ë§Œ ì‚¬ìš©í•˜ê³  Jenkinsì˜ CI/CD íŒŒì´í”„ë¼ì¸ì„ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.</li>
  <li>ì£¼ìš” ê¸°ëŠ¥
    <ul>
      <li>
<strong>ì†ŒìŠ¤ ì½”ë“œ ê´€ë¦¬</strong> : GitLabì€ Git ê¸°ë°˜ì˜ ì†ŒìŠ¤ ì½”ë“œ ì €ì¥ì†Œë¥¼ ì œê³µí•˜ì—¬ ë²„ì „ ê´€ë¦¬ë¥¼ ì‰½ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>
<strong>CI/CD íŒŒì´í”„ë¼ì¸</strong> : GitLabì€ CI/CD íŒŒì´í”„ë¼ì¸ì„ í†µí•´ ì½”ë“œì˜ ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ë°°í¬ë¥¼ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>
<strong>ì´ìŠˆ íŠ¸ë˜í‚¹</strong> : í”„ë¡œì íŠ¸ì˜ ë²„ê·¸, ê¸°ëŠ¥ ìš”ì²­ ë“±ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì´ìŠˆ íŠ¸ë˜í‚¹ ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤.</li>
      <li>
<strong>ì½”ë“œ ë¦¬ë·°</strong> : ë³‘í•© ìš”ì²­(Merge Request)ì„ í†µí•´ ì½”ë“œ ë¦¬ë·°ë¥¼ ì‰½ê²Œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>
<strong>ìœ„í‚¤</strong> : í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ìœ„í‚¤ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</li>
      <li>
<strong>í”„ë¡œì íŠ¸ ê´€ë¦¬</strong> : ë§ˆì¼ìŠ¤í†¤, ë³´ë“œ, ë¼ë²¨ ë“±ì„ í†µí•´ í”„ë¡œì íŠ¸ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>
<strong>í†µí•© ë° í™•ì¥ì„±</strong> : ë‹¤ì–‘í•œ ì™¸ë¶€ ë„êµ¬ì™€ì˜ í†µí•© ë° í™•ì¥ì„ ì§€ì›í•˜ì—¬ ìœ ì—°í•œ ê°œë°œ í™˜ê²½ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>
<strong>ì…€í”„ í˜¸ìŠ¤íŠ¸ ê°€ëŠ¥</strong> : GitLabì€ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ì œê³µë˜ì–´ ë¬´ë£Œë¡œ ìì²´ ì„œë²„ì— ì„¤ì¹˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì¼ë¶€ ê¸°ëŠ¥ ì°¨ì´ê°€ ìˆìŒ)</li>
    </ul>
  </li>
</ul>

<h4 id="gitlab-í”„ë¡œì íŠ¸-ìƒì„±-ë°-ì„¤ì •">Gitlab í”„ë¡œì íŠ¸ ìƒì„± ë° ì„¤ì •</h4>

<ul>
  <li>
    <p>Gitlab.comì—ì„œ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_9.png" alt="img.png" class="image-center" loading="lazy" width="1392" height="1024">
<em class="image-caption">Gitlab í”„ë¡œì íŠ¸ ìƒì„±</em></p>
  </li>
  <li>
    <p>í”„ë¡œì íŠ¸ ìƒì„±ì‹œ í”„ë¡œì íŠ¸ ì´ë¦„ê³¼ ê°€ì‹œì„±ì„ ì„¤ì •í•˜ê³  ìƒì„±í•©ë‹ˆë‹¤.</p>
    <ul>
      <li>
<strong>í”„ë¡œì íŠ¸ ì´ë¦„</strong> : 2024-cicd-lite-w1</li>
      <li>
<strong>ê°€ì‹œì„±</strong> : Private</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_10.png" alt="img_1.png" class="image-center" loading="lazy" width="1392" height="1451">
<em class="image-caption">Jenkinsì™€ ì—°ë™ì„ ìœ„í•´ í† í° ë°œê¸‰</em></p>

<ul>
  <li>í”„ë¡œì íŠ¸ ìƒì„± í›„ í”„ë¡œì íŠ¸ ì„¤ì •ì—ì„œ CI/CD íŒŒì´í”„ë¼ì¸ì„ ìœ„í•œ í† í°ì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.</li>
  <li>í”„ë¡œí•„ ì•„ì´ì½˜ í´ë¦­ &gt; Preferences &gt; Access Tokens &gt; Add new tokenì„ í´ë¦­í•˜ì—¬ í† í°ì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.
    <ul>
      <li>
<strong>í† í° ì´ë¦„</strong> : jenkins</li>
      <li>
<strong>ê¶Œí•œ</strong> : read_repository, write_repository</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_11.png" alt="img_2.png" class="image-center" loading="lazy" width="1392" height="793">
<em class="image-caption">í† í° ë°œê¸‰ ì™„ë£Œ</em></p>

<ul>
  <li>í† í°ì´ ì™„ë£Œë˜ë©´ ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´í›„ì—ëŠ” ë‹¤ì‹œ í™•ì¸í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì˜ ê¸°ë¡í•´ë‘ì–´ì•¼ í•©ë‹ˆë‹¤.</li>
</ul>

<h5 id="gitlabì—ì„œ-ì†ŒìŠ¤-ë°›ê¸°">Gitlabì—ì„œ ì†ŒìŠ¤ ë°›ê¸°</h5>

<ul>
  <li>ì†ŒìŠ¤ë¥¼ ë°›ê¸° ìœ„í•´ git ì£¼ì†Œë¥¼ ë³µì‚¬í•©ë‹ˆë‹¤.
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_12.png" alt="img.png" class="image-center" loading="lazy" width="695" height="279">
<em class="image-caption">Gitlab í”„ë¡œì íŠ¸ ì£¼ì†Œ ë³µì‚¬</em>
</li>
  <li>í”„ë¡œì íŠ¸ í˜ì´ì§€ì— ì ‘ì† í›„ Code ë²„íŠ¼ì„ í´ë¦­í•˜ê³  í´ë¦½ë³´ë“œ ì•„ì´ì½˜ì„ í´ë¦­í•˜ì—¬ ì£¼ì†Œë¥¼ ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>ë³µì‚¬í•œ ì£¼ì†Œë¡œ ì†ŒìŠ¤ë¥¼ ë°›ì•„ì„œ í•„ìš”í•œ íŒŒì¼ë“¤ì„ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># &lt;span style="color: green;"&gt;ğŸ‘‰ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë¬¼ìœ¼ë©´ í† í°ì´ë¦„ê³¼ ë°œê¸‰ë°›ì€ í† í°ì„ ì…ë ¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/span&gt;</span>
<span class="nv">$ </span>git clone https://gitlab.com/littlebird/2024-cicd-lite-w1.git
<span class="c"># =&gt; Cloning into '2024-cicd-lite-w1'...</span>
<span class="c">#    Username for 'https://gitlab.com': jenkins</span>
<span class="c">#    Password for 'https://jenkins@gitlab.com': glpat-ABCD1234</span>
<span class="c">#    remote: Enumerating objects: 3, done.</span>
<span class="c">#    remote: Counting objects: 100% (3/3), done.</span>
<span class="c">#    remote: Compressing objects: 100% (2/2), done.</span>
<span class="c">#    remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0 (from 0)</span>
<span class="c">#    Receiving objects: 100% (3/3), done.</span>
<span class="nv">$ </span><span class="nb">cd </span>2024-cicd-lite-w1/

<span class="c"># ì†ŒìŠ¤ì½”ë“œ ì‘ì„±</span>
<span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> app.rb <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
require 'sinatra'

get '/' do
  "Hello, World! The time is #{Time.now}"
end
</span><span class="no">EOF

</span><span class="c"># Dockerfile ì‘ì„±</span>
<span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> Dockerfile <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
FROM ruby:3.3
RUN gem install sinatra rackup puma
COPY app.rb /app/
WORKDIR /app
CMD ["ruby", "app.rb", "-o", "0.0.0.0"]
</span><span class="no">EOF

</span><span class="c"># VERSION íŒŒì¼ ìƒì„±</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"0.0.1"</span> <span class="o">&gt;</span> VERSION

<span class="c">#</span>
<span class="nv">$ </span>git add <span class="nb">.</span>
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Initial commit"</span>
<span class="c"># =&gt; [main 569ce3c] Initial commit</span>
<span class="c">#     3 files changed, 11 insertions(+)</span>
<span class="c">#     create mode 100644 Dockerfile</span>
<span class="c">#     create mode 100644 VERSION</span>
<span class="c">#     create mode 100644 app.rb</span>
<span class="nv">$ </span>git push <span class="nt">-u</span> origin main
<span class="c"># =&gt; Enumerating objects: 6, done.</span>
<span class="c">#    Counting objects: 100% (6/6), done.</span>
<span class="c">#    Delta compression using up to 8 threads</span>
<span class="c">#    Compressing objects: 100% (4/4), done.</span>
<span class="c">#    Writing objects: 100% (5/5), 536 bytes | 536.00 KiB/s, done.</span>
<span class="c">#    Total 5 (delta 0), reused 0 (delta 0), pack-reused 0</span>
<span class="c">#    To https://gitlab.com/littlebird/2024-cicd-lite-w1.git</span>
<span class="c">#       fe2fb73..569ce3c  main -&amp;gt; main</span>
<span class="c">#    branch 'main' set up to track 'origin/main'.</span>
</code></pre></div></div>

<ul>
  <li>Gitlab ë¦¬íŒŒì§€í† ë¦¬ì—ì„œ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_13.png" alt="img.png" loading="lazy" width="1392" height="793"></p>

<ul>
  <li>Gitlab í”„ë¡œì íŠ¸ì— ì†ŒìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ì—…ë¡œë“œ ë˜ì—ˆìŠµë‹ˆë‹¤.</li>
</ul>

<h4 id="docker-hub-ì†Œê°œ">Docker Hub ì†Œê°œ</h4>

<ul>
  <li>
<a href="https://hub.docker.com">ë„ì»¤í—ˆë¸Œ(Docker Hub)</a>ëŠ” ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ê³  ê³µìœ í•  ìˆ˜ ìˆëŠ” í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.</li>
  <li>ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ìì‹ ì´ ë§Œë“  ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì„œë¡œ ììœ ë¡­ê²Œ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>ìœ ì˜ ì‚¬í•­
    <ul>
      <li>Docker HubëŠ” ë¬´ë£Œë¡œ ëˆ„êµ¬ë‚˜ ì—…ë¡œë“œ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ê³µì‹(Official) ë¼ë²¨ì´ ì—†ëŠ” ì´ë¯¸ì§€ëŠ” ë³´ì•ˆì— ì·¨ì•½í•  ìˆ˜ ìˆê³ , ì‚¬ìš©ë²•ì„ ì•Œ ìˆ˜ ì—†ê±°ë‚˜, ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>ë„ì»¤ ì•…ì„± ì´ë¯¸ì§€ë¥¼ í†µí•œ ì·¨ì•½ì  ê³µê²© ê¸°ì‚¬ ëª¨ìŒ
        <ul>
          <li>ë„ì»¤ë„ ì´ì œ ê³µê²© í†µë¡œ! ì•…ì„± ì´ë¯¸ì§€ ëŠ˜ì–´ë‚˜ê³  ìˆë‹¤ - <a href="https://www.boannews.com/media/view.asp?idx=93080&amp;page=1&amp;kind=1">ë§í¬</a>
</li>
          <li>ë„ì»¤ í™˜ê²½ ê³µê²©í•˜ëŠ” í•´ì»¤ë“¤, ì „ëµì„ ë˜ ë³€ê²½í–ˆë‹¤ - <a href="https://www.boannews.com/media/view.asp?idx=89841&amp;page=1&amp;kind=1">ë§í¬</a>
</li>
          <li>ì•”í˜¸í™”í ì±„êµ´ ê³µê²©ìë“¤, ì˜ëª» ì„¤ì •ëœ ë„ì»¤ ì§‘ì¤‘ ê³µëµ - <a href="https://www.boannews.com/media/view.asp?idx=87427&amp;page=1&amp;kind=1">ë§í¬</a>
</li>
          <li>ë¦¬ëˆ…ìŠ¤ ë…¸ë¦¬ë˜ ë´‡ë„· ë©€ì›¨ì–´ ë‘˜, ìµœê·¼ ë“¤ì–´ ë„ì»¤ ì„œë²„ë„ ë…¸ë¦¬ê¸° ì‹œì‘ - <a href="https://www.boannews.com/media/view.asp?idx=89205&amp;page=1&amp;kind=1">ë§í¬</a>
</li>
          <li>ë„ì»¤ í˜¸ìŠ¤íŠ¸ ê°ì—¼ì‹œì¼œê°€ë©° ì•”í˜¸í™”í ì±„êµ´í•˜ëŠ” ì›œ ë°œê²¬ - <a href="https://www.boannews.com/media/view.asp?idx=83854&amp;page=1&amp;kind=1">ë§í¬</a>  *</li>
        </ul>
      </li>
      <li>ì‚¬ìš©ìë‹¹ 1ê°œì˜ Private Repositoryë§Œ ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>ì£¼ìš” ê¸°ëŠ¥
    <ul>
      <li>
<strong>ë„ì»¤ ì´ë¯¸ì§€ ì €ì¥ì†Œ</strong> : ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ê³  ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>
<strong>ìë™ ë¹Œë“œ</strong> : Github, Gitlabê³¼ ì—°ë™í•˜ì—¬ ì½”ë“œê°€ ì—…ë°ì´íŠ¸ ë  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>
<strong>ì›¹í›…</strong> : íƒ€ ì„œë¹„ìŠ¤ì™€ ì—°ë™í•˜ì—¬ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ íŠ¹ì • URLë¡œ ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>
<strong>Docker Hub CLI ë„êµ¬</strong> : ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì»¤ë§¨ë“œë¼ì¸ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë„êµ¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</li>
    </ul>
  </li>
</ul>

<h4 id="docker-hubì—-dev-app-private-repo-ìƒì„±">Docker Hubì— dev-app (private) repo ìƒì„±</h4>

<ul>
  <li>Docker Hubì— dev-appì´ë¼ëŠ” private ë¦¬í¬ì§€í† ë¦¬ë¥¼ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.</li>
  <li>Docker Hubì— ë¡œê·¸ì¸ í›„ Repositories &gt; Create Repositoryë¥¼ í´ë¦­í•˜ì—¬ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    <ul>
      <li>
<strong>Repository Name</strong> : dev-app</li>
      <li>
<strong>Visibility</strong> : Private</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_14.png" alt="img.png" loading="lazy" width="1392" height="749"></p>

<h3 id="jenkins-ê¸°ë³¸-ì‚¬ìš©">Jenkins ê¸°ë³¸ ì‚¬ìš©</h3>

<ul>
  <li>Jenkinsë¥¼ ì‚¬ìš©í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
  <li>ì‘ì—… ì†Œê°œ
    <ol>
      <li>
<strong>Trigger</strong> : ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì‹œì ì„ ì§€ì •í•©ë‹ˆë‹¤.
        <ul>
          <li>ì‘ì—… ìˆ˜í–‰ íƒœìŠ¤í¬ taskê°€ ì–¸ì œ ì‹œì‘ë ì§€ë¥¼ ì§€ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
        </ul>
      </li>
      <li>
<strong>Built step</strong> : ì‘ì—…ì„ êµ¬ì„±í•˜ëŠ” ë‹¨ê³„ë³„ íƒœìŠ¤í¬ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
        <ul>
          <li>íŠ¹ì • ëª©í‘œë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ íƒœìŠ¤í¬ë¥¼ ë‹¨ê³„ë³„ stepë¡œ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
          <li>ì´ê²ƒì„ ì  í‚¨ìŠ¤ì—ì„œëŠ” ë¹Œë“œ ìŠ¤í… build stepì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.</li>
        </ul>
      </li>
      <li>
<strong>Post-build action</strong> : íƒœìŠ¤í¬ê°€ ì™„ë£Œ í›„ ìˆ˜í–‰í•  ëª…ë ¹ì„ ì§€ì •í•©ë‹ˆë‹¤.
        <ul>
          <li>ì˜ˆë¥¼ ë“¤ì–´ ì‘ì—…ì˜ ê²°ê³¼(ì„±ê³µ or ì‹¤íŒ¨)ë¥¼ ì‚¬ìš©ìì—ê²Œ ì•Œë ¤ì£¼ëŠ” í›„ì† ë™ì‘ì´ë‚˜, ìë°” ì½”ë“œë¥¼ ì»´íŒŒì¼í•œ í›„ ìƒì„±ëœ í´ë˜ìŠ¤ íŒŒì¼ì„ íŠ¹ì • ìœ„ì¹˜ë¡œ ë³µì‚¬ ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
     - (ì°¸ê³ ) ì  í‚¨ìŠ¤ì˜ <strong>ë¹Œë“œ</strong> : ì  í‚¨ìŠ¤ ì‘ì—…ì˜ íŠ¹ì • ì‹¤í–‰ ë²„ì „
       - ì‚¬ìš©ìëŠ” ì  í‚¨ìŠ¤ ì‘ì—…ì„ ì—¬ëŸ¬ë²ˆ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ”ë°, ì‹¤í–‰ë  ë•Œë§ˆë‹¤ <strong>ê³ ìœ  ë¹Œë“œ ë²ˆí˜¸</strong>ê°€ ë¶€ì—¬ë©ë‹ˆë‹¤.
       - ì‘ì—… ì‹¤í–‰ ì¤‘ì— ìƒì„±ëœ <strong>ì•„í‹°íŒ©íŠ¸</strong>, <strong>ì½˜ì†” ë¡œë“œ</strong> ë“± íŠ¹ì • ì‹¤í–‰ ë²„ì „ê³¼ ê´€ë ¨ëœ ëª¨ë“  ì„¸ë¶€ ì •ë³´ê°€ í•´ë‹¹ ë¹Œë“œ ë²ˆí˜¸ë¡œ ì €ì¥ë©ë‹ˆë‹¤.</li>
        </ul>
      </li>
    </ol>
  </li>
  <li>ì²«ë²ˆì§¸ ì‘ì—… ìƒì„±
    <ul>
      <li>name : first</li>
      <li>item type : freestyle project</li>
      <li>Build Steps : Execute shell
        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"docker check"</span> | <span class="nb">tee </span>test.txt
docker ps
</code></pre></div>        </div>
        <p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_15.png" alt="img.png" class="image-center" loading="lazy" width="1436" height="615">
<em class="image-caption">Jenkins ì²«ë²ˆì§¸ ì‘ì—… ìƒì„±</em></p>
      </li>
    </ul>
  </li>
  <li>
    <p>â€œBuild Nowâ€(ì§€ê¸ˆ ì‹¤í–‰) ë©”ë‰´ë¥¼ í´ë¦­í•˜ì—¬ ì‘ì—…ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_16.png" alt="img.png" class="image-center" loading="lazy" width="1436" height="796">
<em class="image-caption">ë¹Œë“œ ê²°ê³¼ (Console Output)</em></p>
  </li>
  <li>ì‘ì—… ê³µê°„ í™•ì¸</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker compose <span class="nb">exec </span>jenkins <span class="nb">ls</span> /var/jenkins_home/workspace
<span class="c"># =&gt; first</span>

<span class="nv">$ </span>docker compose <span class="nb">exec </span>jenkins <span class="nb">ls</span> /var/jenkins_home/workspace/first
<span class="c"># =&gt; test.txt</span>

<span class="c"># ì‘ì—… ê²°ê³¼ í™•ì¸</span>
<span class="nv">$ </span>docker compose <span class="nb">exec </span>jenkins <span class="nb">cat</span> /var/jenkins_home/workspace/first/test.txt
<span class="c"># =&gt; docker check</span>
</code></pre></div></div>

<h4 id="jenkins-í”ŒëŸ¬ê·¸ì¸-ì„¤ì¹˜">Jenkins í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜</h4>

<ul>
  <li>Jenkins í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ì—¬ ë” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>Dashboard &gt; Manage Jenkins ë©”ë‰´ë¥¼ í´ë¦­í•˜ê³ , í”ŒëŸ¬ê·¸ì¸ ê´€ë¦¬ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.</li>
  <li>Available plugins ë¥¼ í´ë¦­í•˜ì—¬ ë‹¤ì–‘í•œ í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_17.png" alt="img.png" class="image-center" loading="lazy" width="1436" height="796">
<em class="image-caption">Jenkins í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ í™”ë©´</em></p>

<ul>
  <li>ë‹¤ìŒì˜ plugin ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.
    <ul>
      <li>
<strong>Pipeline Stage View</strong> : íŒŒì´í”„ë¼ì¸ ìŠ¤í…Œì´ì§€ë¥¼ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ <a href="https://plugins.jenkins.io/pipeline-stage-view/">ë§í¬</a>
</li>
      <li>
<strong>Docker Pipeline</strong> : íŒŒì´í”„ë¼ì¸ì—ì„œ ë„ì»¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ <a href="https://plugins.jenkins.io/docker-workflow/">ë§í¬</a>
</li>
      <li>
<strong>Gitlab</strong> : Gitlabê³¼ Jenkinsë¥¼ ì—°ë™í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ <a href="https://plugins.jenkins.io/gitlab-plugin/">ë§í¬</a>
</li>
    </ul>
  </li>
  <li>Dashboard &gt; Manage Jenkins &gt; Credentials &gt; System &gt; Global credentials (unrestricted) &gt; Add Credentials ë¥¼ í´ë¦­í•˜ì—¬ ìê²©ì¦ëª…ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
    <ul>
      <li>Docker hub í¬ë ˆë´ì…œ
        <ul>
          <li>Kind : Username with password</li>
          <li>Username : <code class="language-plaintext highlighter-rouge">&lt;docker hub ê³„ì •&gt;</code>
</li>
          <li>Password : <code class="language-plaintext highlighter-rouge">&lt;docker hub ë¹„ë°€ë²ˆí˜¸ í˜¹ì€ í† í°&gt;</code>
</li>
          <li>ID : <code class="language-plaintext highlighter-rouge">dockerhub-credentials</code> =&gt; ìê²©ì¦ëª… ì´ë¦„ìœ¼ë¡œ pipelineì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.</li>
        </ul>
      </li>
      <li>Gitlab ì €ì¥ì†Œ í¬ë ˆë´ì…œ
        <ul>
          <li>Kind : Username with password</li>
          <li>Username : <code class="language-plaintext highlighter-rouge">&lt;gitlab í† í° ì´ë¦„&gt;</code>
</li>
          <li>Password : <code class="language-plaintext highlighter-rouge">&lt;gitlab í† í°&gt;</code>
</li>
          <li>ID : <code class="language-plaintext highlighter-rouge">gitlab-credentials</code> =&gt; ìê²©ì¦ëª… ì´ë¦„ìœ¼ë¡œ pipelineì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h4 id="íŒŒì´í”„ë¼ì¸">íŒŒì´í”„ë¼ì¸</h4>

<ul>
  <li>pipelineì€ CI/CD íŒŒì´í”„ë¼ì¸ì„ ì½”ë“œë¡œ ì •ì˜í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤. <a href="https://www.jenkins.io/doc/book/pipeline/">docs</a>
</li>
</ul>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_18.png" alt="img.png" loading="lazy" width="1322" height="499"></p>

<ul>
  <li>íŒŒì´í”„ë¼ì¸ì˜ <strong>ì¥ì </strong>
    <ul>
      <li>
<strong>ì½”ë“œ</strong> : ì• í”Œë¦¬ì¼€ì´ì…˜ CI/CD í”„ë¡œì„¸ìŠ¤ë¥¼ ì½”ë“œ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆê³ , í•´ë‹¹ ì½”ë“œë¥¼ ì¤‘ì•™ ë¦¬í¬ì§€í„°ë¦¬ì— ì €ì¥í•˜ì—¬ íŒ€ì›ê³¼ ê³µìœ  ë° ì‘ì—… ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
      <li>
<strong>ë‚´êµ¬ì„±</strong> : ì  í‚¨ìŠ¤ ì„œë¹„ìŠ¤ê°€ ì˜ë„ì ìœ¼ë¡œ ë˜ëŠ” ìš°ë°œì ìœ¼ë¡œ ì¬ì‹œì‘ë˜ë”ë¼ë„ ë¬¸ì œì—†ì´ ìœ ì§€ë©ë‹ˆë‹¤.</li>
      <li>
<strong>ì¼ì‹œ ì¤‘ì§€ ê°€ëŠ¥</strong> : íŒŒì´í”„ë¼ì¸ì„ ì‹¤í–‰í•˜ëŠ” ë„ì¤‘ ì‚¬ëŒì˜ ìŠ¹ì¸ì´ë‚˜ ì…ë ¥ì„ ê¸°ë‹¤ë¦¬ê¸° ìœ„í•´ ì¤‘ë‹¨í•˜ê±°ë‚˜ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
      <li>
<strong>ë‹¤ì–‘ì„±</strong> : ë¶„ê¸°ë‚˜ ë°˜ë³µ, ë³‘ë ¬ ì²˜ë¦¬ì™€ ê°™ì€ ë‹¤ì–‘í•œ CI/CD ìš”êµ¬ ì‚¬í•­ì„ ì§€ì›í•©ë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>íŒŒì´í”„ë¼ì¸ ìš©ì–´
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_19.png" alt="img.png" class="image-center" loading="lazy" width="714" height="308">
    <ul>
      <li>
<strong>Pipeline(íŒŒì´í”„ë¼ì¸)</strong> : ì „ì²´ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” ì½”ë“œ</li>
      <li>
<strong>Node(ë…¸ë“œ) = Agent</strong> : íŒŒì´í”„ë¼ì¸ì„ ì‹¤í–‰í•˜ëŠ” ì‹œìŠ¤í…œ</li>
      <li>
<strong>Stages</strong> : ìˆœì°¨ ì‘ì—… ëª…ì„¸ì¸ stage ë“¤ì˜ ë¬¶ìŒ</li>
      <li>
<strong>Stage</strong> : íŠ¹ì • ë‹¨ê³„ì—ì„œ ìˆ˜í–‰ë˜ëŠ” ì‘ì—…ë“¤ì˜ ì •ì˜</li>
      <li>
<strong>Steps</strong> : íŒŒì´í”„ë¼ì¸ì˜ íŠ¹ì • ë‹¨ê³„ì—ì„œ ìˆ˜í–‰ë˜ëŠ” ë‹¨ì¼ ì‘ì—…ì„ ì˜ë¯¸.</li>
      <li>
<strong>Post</strong> : ë¹Œë“œ í›„ ì¡°ì¹˜, ì¼ë°˜ì ìœ¼ë¡œ stages ì‘ì—…ì´ ëë‚œ í›„ ì¶”ê°€ì ì¸ steps/step</li>
      <li>
<strong>Directive</strong> - <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#declarative-directives">Docs</a>
        <ul>
          <li>
<strong>Environment</strong> (key=value) : íŒŒì´í”„ë¼ì¸ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  í™˜ê²½ë³€ìˆ˜</li>
          <li>
<strong>Parameters</strong> : ì…ë ¥ ë°›ì•„ì•¼í•  ë³€ìˆ˜ë¥¼ ì •ì˜ - Type(string, text, choice, password â€¦)</li>
          <li>
<strong>Triggers</strong> : íŒŒì´í”„ë¼ì¸ì„ ì‹¤í–‰í•˜ëŠ” ì¡°ê±´ ì„¤ì •</li>
          <li>
<strong>Input</strong> : íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ì¤‘ ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì„ ìˆ˜ ìˆë„ë¡ ì„¤ì •</li>
          <li>
<strong>When</strong> : stage ë¥¼ ì‹¤í–‰ í•  ì¡°ê±´ ì„¤ì •</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>íŒŒì´í”„ë¼ì¸ êµ¬ì„± í˜•íƒœ 3ê°€ì§€
    <ol>
      <li>
<strong>Pipeline Script</strong> : ì¼ë°˜ì ì¸ ë°©ì‹ìœ¼ë¡œ Jenkins íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•˜ì—¬ Shell Script í˜•íƒœë¡œ ì‘ì„± <a href="https://www.jenkins.io/doc/book/pipeline/getting-started/#through-the-classic-ui">ë§í¬</a>
</li>
      <li>
<strong>Pipeline Script from SCM</strong> : Jenkinsfileì„ git ë“±ì˜ SCM(Source Code Management)ì— ì €ì¥í•˜ê³ , ë¹Œë“œ ì‹œì‘ ì‹œ í•´ë‹¹ íŒŒì¼ì„ ì½ì–´ íŒŒì´í”„ë¼ì¸ì„ ì‹¤í–‰ <a href="https://www.jenkins.io/doc/book/pipeline/getting-started/#defining-a-pipeline-in-scm">ë§í¬</a>
</li>
      <li>
<strong>Blue Ocean ê¸°ë°˜</strong> : Blue Ocean í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ì—¬ UIë¡œ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•˜ë©´ Jenkinsfileì´ ìë™ìœ¼ë¡œ ìƒì„±ë¨ <a href="https://www.jenkins.io/doc/book/pipeline/getting-started/#through-blue-ocean">ë§í¬</a>
</li>
    </ol>
  </li>
  <li>íŒŒì´í”„ë¼ì¸ êµ¬ë¬¸ í˜•íƒœ 2ê°€ì§€
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_20.png" alt="img.png" class="image-center w-80" loading="lazy" width="649" height="508">
<em class="image-caption">íŒŒì´í”„ë¼ì¸ êµ¬ë¬¸ í˜•íƒœë³„ êµ¬ì¡°</em>
    <ol>
      <li>
<strong>Declarative Pipeline</strong> : ê°„ê²°í•˜ê³  ê°€ë…ì„±ì´ ì¢‹ìœ¼ë©°, ìµœê·¼ ë¬¸ë²•ì´ê³ , ê¶Œì¥í•˜ëŠ” ë°©ë²•. stepì€ í•„ìˆ˜ë¡œ ì‚¬ìš©
        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>pipeline <span class="o">{</span>
   agent any     <span class="c"># Execute this Pipeline or any of its stages, on any available agent.</span>
   stages <span class="o">{</span>
     stage<span class="o">(</span><span class="s1">'Build'</span><span class="o">)</span> <span class="o">{</span>   <span class="c"># Defines the "Build" stage.</span>
         steps <span class="o">{</span>
             //         <span class="c"># Perform some steps related to the "Build" stage.</span>
         <span class="o">}</span>
     <span class="o">}</span>
     stage<span class="o">(</span><span class="s1">'Test'</span><span class="o">)</span> <span class="o">{</span> 
         steps <span class="o">{</span>
             // 
         <span class="o">}</span>
     <span class="o">}</span>
     stage<span class="o">(</span><span class="s1">'Deploy'</span><span class="o">)</span> <span class="o">{</span> 
         steps <span class="o">{</span>
             // 
         <span class="o">}</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>        </div>
      </li>
      <li>
<strong>Scripted Pipeline</strong> : ì»¤ìŠ¤í…€ì´ ìš©ì´í•˜ë‚˜ ë³µì¡ë„ê°€ ë†’ê³ , stepì€ í•„ìˆ˜ê°€ ì•„ë‹˜
        <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>node <span class="o">{</span>             <span class="c"># Execute this Pipeline or any of its stages, on any available agent.</span>
  stage<span class="o">(</span><span class="s1">'Build'</span><span class="o">)</span> <span class="o">{</span> <span class="c"># Defines the "Build" stage. stage blocks are optional in Scripted Pipeline syntax. However, implementing stage blocks in a Scripted Pipeline provides clearer visualization of each stage's subset of tasks/steps in the Jenkins UI.</span>
   //              <span class="c"># Perform some steps related to the "Build" stage.</span>
  <span class="o">}</span>
  stage<span class="o">(</span><span class="s1">'Test'</span><span class="o">)</span> <span class="o">{</span> 
   // 
  <span class="o">}</span>
  stage<span class="o">(</span><span class="s1">'Deploy'</span><span class="o">)</span> <span class="o">{</span> 
   // 
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
</ul>

<h5 id="jenkins-pipeline-ì‹¤ìŠµ">Jenkins Pipeline ì‹¤ìŠµ</h5>

<ul>
  <li>New Item &gt; Pipeline ìœ¼ë¡œ íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•©ë‹ˆë‹¤.
    <ul>
      <li>
<strong>Name</strong> : First-Pipeline</li>
      <li>
<strong>Definition</strong> : Pipeline script</li>
      <li>
<strong>Script</strong> : ì•„ë˜ì˜ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</li>
    </ul>
  </li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pipeline <span class="o">{</span>
    agent any

    stages <span class="o">{</span>
        stage<span class="o">(</span><span class="s1">'Hello'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                <span class="nb">echo</span> <span class="s1">'Hello World'</span>
            <span class="o">}</span>
        <span class="o">}</span>
        stage<span class="o">(</span><span class="s1">'Deploy'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                <span class="nb">echo</span> <span class="s2">"Deployed successfully!"</span><span class="p">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>Save í•˜ì—¬ ì €ì¥í›„ â€œBuild Nowâ€ë¥¼ í´ë¦­í•˜ì—¬ íŒŒì´í”„ë¼ì¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_21.png" alt="img.png" class="image-center" loading="lazy" width="1035" height="682">
<em class="image-caption">íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ê²°ê³¼</em></p>
  </li>
  <li>
    <p>ì•„ë˜ ì²˜ëŸ¼ ìˆ˜ì • í›„ í™•ì¸: í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©, ë¬¸ìì—´ ë³´ê°„ â†’ Console Output í™•ì¸</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>pipeline <span class="o">{</span>
    agent any
    environment <span class="o">{</span> 
        CC <span class="o">=</span> <span class="s1">'clang'</span>
    <span class="o">}</span>
      
    stages <span class="o">{</span>
        stage<span class="o">(</span><span class="s1">'Example'</span><span class="o">)</span> <span class="o">{</span>
            environment <span class="o">{</span> 
                AN_ACCESS_KEY <span class="o">=</span> <span class="s1">'abcdefg'</span>
            <span class="o">}</span>
            steps <span class="o">{</span>
                <span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">CC</span><span class="k">}</span><span class="s2">"</span><span class="p">;</span>
                sh <span class="s1">'echo ${AN_ACCESS_KEY}'</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_22.png" alt="img.png" class="image-center" loading="lazy" width="773" height="637">
<em class="image-caption">Console Output</em></p>
  </li>
  <li>
    <p>ì•„ë˜ ì²˜ëŸ¼ ìˆ˜ì • í›„ í™•ì¸: íŒŒì´í”„ë¼ì¸ ë¹Œë“œ ì‹œì‘(íŠ¸ë¦¬ê±°) â†’ Console Output í™•ì¸</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>pipeline <span class="o">{</span>
    agent any
    triggers <span class="o">{</span>
        cron<span class="o">(</span><span class="s1">'H */4 * * 1-5'</span><span class="o">)</span>
    <span class="o">}</span>
    stages <span class="o">{</span>
        stage<span class="o">(</span><span class="s1">'Example'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                <span class="nb">echo</span> <span class="s1">'Hello World'</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_23.png" alt="img.png" class="image-center" loading="lazy" width="762" height="385">
<em class="image-caption">Console Output</em></p>
  </li>
  <li>
    <p>ì•„ë˜ ì²˜ëŸ¼ ìˆ˜ì • í›„ í™•ì¸: íŒŒë¼ë¯¸í„°ì™€ í•¨ê»˜ ë¹Œë“œ â†’ Console Output í™•ì¸ â‡’ ë‹¤ì‹œ í•œë²ˆ ë” ë¹Œë“œ í´ë¦­ (ë³€ìˆ˜ ì…ë ¥ ì¹¸ í™•ì¸)</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>pipeline <span class="o">{</span>
    agent any
    parameters <span class="o">{</span>
        string<span class="o">(</span>name: <span class="s1">'PERSON'</span>, defaultValue: <span class="s1">'Mr Jenkins'</span>, description: <span class="s1">'Who should I say hello to?'</span><span class="o">)</span>
        text<span class="o">(</span>name: <span class="s1">'BIOGRAPHY'</span>, defaultValue: <span class="s1">''</span>, description: <span class="s1">'Enter some information about the person'</span><span class="o">)</span>
        booleanParam<span class="o">(</span>name: <span class="s1">'TOGGLE'</span>, defaultValue: <span class="nb">true</span>, description: <span class="s1">'Toggle this value'</span><span class="o">)</span>
        choice<span class="o">(</span>name: <span class="s1">'CHOICE'</span>, choices: <span class="o">[</span><span class="s1">'One'</span>, <span class="s1">'Two'</span>, <span class="s1">'Three'</span><span class="o">]</span>, description: <span class="s1">'Pick something'</span><span class="o">)</span>
        password<span class="o">(</span>name: <span class="s1">'PASSWORD'</span>, defaultValue: <span class="s1">'SECRET'</span>, description: <span class="s1">'Enter a password'</span><span class="o">)</span>
    <span class="o">}</span>
    stages <span class="o">{</span>
        stage<span class="o">(</span><span class="s1">'Example'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                <span class="nb">echo</span> <span class="s2">"Hello </span><span class="k">${</span><span class="nv">params</span><span class="p">.PERSON</span><span class="k">}</span><span class="s2">"</span>
                <span class="nb">echo</span> <span class="s2">"Biography: </span><span class="k">${</span><span class="nv">params</span><span class="p">.BIOGRAPHY</span><span class="k">}</span><span class="s2">"</span>
                <span class="nb">echo</span> <span class="s2">"Toggle: </span><span class="k">${</span><span class="nv">params</span><span class="p">.TOGGLE</span><span class="k">}</span><span class="s2">"</span>
                <span class="nb">echo</span> <span class="s2">"Choice: </span><span class="k">${</span><span class="nv">params</span><span class="p">.CHOICE</span><span class="k">}</span><span class="s2">"</span>
                <span class="nb">echo</span> <span class="s2">"Password: </span><span class="k">${</span><span class="nv">params</span><span class="p">.PASSWORD</span><span class="k">}</span><span class="s2">"</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìˆ˜ì •í•˜ê³  ì €ì¥ í›„ â€œBuild with Parametersâ€ë¥¼ í´ë¦­í•˜ì—¬ íŒŒë¼ë¯¸í„°ë¥¼ ì…ë ¥í•˜ê³  ë¹Œë“œë¥¼ ì‹¤í–‰í•˜ë©´
ì•„ë˜ì™€ ê°™ì´ ì§€ì •ëœ íŒŒë¼ë¯¸í„°ë¡œ ë¹Œë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  </li>
</ul>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_24.png" alt="img.png" class="image-center" loading="lazy" width="1263" height="1096">
<em class="image-caption">Build with Parameters í™”ë©´</em></p>

<ul>
  <li>
    <p>ì•„ë˜ì²˜ëŸ¼ post (ë¹Œë“œ í›„ ì¡°ì¹˜) ë¸”ë¡ì„ ì¶”ê°€í•˜ì—¬ ë¹Œë“œ í›„ ì¡°ì¹˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>pipeline <span class="o">{</span>
    agent any
    stages <span class="o">{</span>
        stage<span class="o">(</span><span class="s1">'Compile'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                <span class="nb">echo</span> <span class="s2">"Compiled successfully!"</span><span class="p">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
  
        stage<span class="o">(</span><span class="s1">'JUnit'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                <span class="nb">echo</span> <span class="s2">"JUnit passed successfully!"</span><span class="p">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
  
        stage<span class="o">(</span><span class="s1">'Code Analysis'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                <span class="nb">echo</span> <span class="s2">"Code Analysis completed successfully!"</span><span class="p">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
  
        stage<span class="o">(</span><span class="s1">'Deploy'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                <span class="nb">echo</span> <span class="s2">"Deployed successfully!"</span><span class="p">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
    post <span class="o">{</span> 
        always <span class="o">{</span> 
            <span class="nb">echo</span> <span class="s1">'I will always say Hello again!'</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_25.png" alt="img.png" class="image-center w-80" loading="lazy" width="768" height="1002">
<em class="image-caption">step ë³„ ë©”ì‹œì§€ì™€ post ë©”ì‹œì§€</em></p>

    <ul>
      <li>postì—ëŠ” always ì™¸ì—ë„ ë‹¤ìŒê³¼ ê°™ì€ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        <ul>
          <li>
<strong>always</strong> : í•­ìƒ ì‹¤í–‰</li>
          <li>
<strong>changed</strong> : ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ì‹¤í–‰</li>
          <li>
<strong>success</strong> : ì„±ê³µí–ˆì„ ë•Œ ì‹¤í–‰</li>
          <li>
<strong>failure</strong> : ì‹¤íŒ¨í–ˆì„ ë•Œ ì‹¤í–‰</li>
          <li>
<strong>unstable</strong> : ë¶ˆì•ˆì •í•œ ìƒíƒœì¼ ë•Œ ì‹¤í–‰</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>Pipeline Syntax -&gt; Snippet Generator ë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_26.png" alt="img.png" class="image-center w-80" loading="lazy" width="782" height="518"></p>
  </li>
</ul>

<h5 id="gitlabê³¼-jenkins-pipeline-ì—°ë™-ì‹¤ìŠµ">Gitlabê³¼ Jenkins pipeline ì—°ë™ ì‹¤ìŠµ</h5>

<ul>
  <li>Gitlabì—ì„œ ì†ŒìŠ¤ë¥¼ ë°›ì•„ ë¹Œë“œ í›„ Docker Hubì— ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ëŠ” íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
  <li>Pipeline script</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pipeline <span class="o">{</span>
    agent any
    environment <span class="o">{</span>
        DOCKER_IMAGE <span class="o">=</span> <span class="s1">'sweetlittlebird/dev-app'</span> // Docker ì´ë¯¸ì§€ ì´ë¦„
    <span class="o">}</span>
    stages <span class="o">{</span>
        stage<span class="o">(</span><span class="s1">'Checkout'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                 git branch: <span class="s1">'main'</span>,
                 url: <span class="s1">'https://gitlab.com/littlebird/2024-cicd-lite-w1.git'</span>,  // Gitì—ì„œ ì½”ë“œ ì²´í¬ì•„ì›ƒ
                 credentialsId: <span class="s1">'gitlab-credentials'</span>  // Credentials ID
            <span class="o">}</span>
        <span class="o">}</span>
        stage<span class="o">(</span><span class="s1">'Read VERSION'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                script <span class="o">{</span>
                    // VERSION íŒŒì¼ ì½ê¸°
                    def version <span class="o">=</span> readFile<span class="o">(</span><span class="s1">'VERSION'</span><span class="o">)</span>.trim<span class="o">()</span>
                    <span class="nb">echo</span> <span class="s2">"Version found: </span><span class="k">${</span><span class="nv">version</span><span class="k">}</span><span class="s2">"</span>
                    // í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
                    env.DOCKER_TAG <span class="o">=</span> version
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        stage<span class="o">(</span><span class="s1">'Docker Build and Push'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                script <span class="o">{</span>
                    docker.withRegistry<span class="o">(</span><span class="s1">'https://index.docker.io/v1/'</span>, <span class="s1">'dockerhub-credentials'</span><span class="o">)</span> <span class="o">{</span>
                        // DOCKER_TAG ì‚¬ìš©
                        def appImage <span class="o">=</span> docker.build<span class="o">(</span><span class="s2">"</span><span class="k">${</span><span class="nv">DOCKER_IMAGE</span><span class="k">}</span><span class="s2">:</span><span class="k">${</span><span class="nv">DOCKER_TAG</span><span class="k">}</span><span class="s2">"</span><span class="o">)</span>
                        appImage.push<span class="o">()</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
    post <span class="o">{</span>
        success <span class="o">{</span>
            <span class="nb">echo</span> <span class="s2">"Docker image </span><span class="k">${</span><span class="nv">DOCKER_IMAGE</span><span class="k">}</span><span class="s2">:</span><span class="k">${</span><span class="nv">DOCKER_TAG</span><span class="k">}</span><span class="s2"> has been built and pushed successfully!"</span>
        <span class="o">}</span>
        failure <span class="o">{</span>
            <span class="nb">echo</span> <span class="s2">"Pipeline failed. Please check the logs."</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>Build Now -&gt; Console Output í™•ì¸</p>

    <p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_27.png" alt="img.png" class="image-center w-80" loading="lazy" width="778" height="362"></p>
  </li>
  <li>
    <p>Docker Hubì—ì„œ ì´ë¯¸ì§€ í™•ì¸</p>

    <p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_28.png" alt="img.png" class="image-center" loading="lazy" width="1392" height="824"></p>
  </li>
</ul>

<h4 id="ë„ì»¤-ê¸°ë°˜-ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜-cicd-êµ¬ì„±">ë„ì»¤ ê¸°ë°˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ CI/CD êµ¬ì„±</h4>

<ul>
  <li>Jenkinsì™€ Gitlabì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ì€ í˜•íƒœì˜ ë„ì»¤ ê¸°ë°˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_29.png" alt="img.png" class="image-center w-80" loading="lazy" width="2048" height="935">
<em class="image-caption">ëª©í‘œ CI/CD íŒŒì´í”„ë¼ì¸</em></p>

<h5 id="gitlabì—ì„œ-jenkins-ì—°ë™-ì„¤ì •">Gitlabì—ì„œ Jenkins ì—°ë™ ì„¤ì •</h5>

<ul>
  <li>gitlab í”„ë¡œì íŠ¸ í˜ì´ì§€ &gt; Settings &gt; Integrations &gt; Jenkins ì—°ê²°í›„ ì•„ë˜ì˜ ì •ë³´ë¥¼ ì…ë ¥ í•©ë‹ˆë‹¤.
    <ul>
      <li>
<strong>Enable integration</strong> : Active ì²´í¬</li>
      <li>
<strong>Trigger</strong> : Push, Merge request ì²´í¬</li>
      <li>
<strong>URL</strong> : <code class="language-plaintext highlighter-rouge">http://&lt;Jenkinsì ‘ì†ì£¼ì†Œ&gt;:&lt;Jenkinsí¬íŠ¸&gt;</code>
</li>
      <li>
<strong>Project name</strong> : <code class="language-plaintext highlighter-rouge">SCM-Pipeline</code> (Jenkins í”„ë¡œì íŠ¸ ì´ë¦„)</li>
      <li>
<strong>Username</strong> : <code class="language-plaintext highlighter-rouge">&lt;Jenkins ì•„ì´ë””&gt;</code>
</li>
      <li>
<strong>Password</strong> : <code class="language-plaintext highlighter-rouge">&lt;Jenkins ë¹„ë°€ë²ˆí˜¸&gt;</code>
</li>
    </ul>

    <p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_30.png" alt="img.png" class="image-center" loading="lazy" width="1392" height="1349"></p>
  </li>
</ul>

<h5 id="jenkinsì—ì„œ-gitlab-ì—°ë™-ì„¤ì •">Jenkinsì—ì„œ Gitlab ì—°ë™ ì„¤ì •</h5>

<ul>
  <li>Jenkins Item ìƒì„±
    <ul>
      <li>Dashboard &gt; New Item &gt; Pipeline (item name : <code class="language-plaintext highlighter-rouge">SCM-Pipeline</code>)</li>
    </ul>
  </li>
  <li>Build Triggers ì„¤ì •
    <ul>
      <li>Configuration &gt; Build Triggers
        <ul>
          <li>
<strong>Build when a change is pushed to GitLab</strong> ì²´í¬</li>
          <li>
<strong>Push Events</strong> ì²´í¬</li>
          <li>
<strong>Accepted Merge Request Events</strong> ì²´í¬
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_31.png" alt="img.png" loading="lazy" width="1263" height="949">
</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>Jenkins íŒŒì¼ ìƒì„± í›„ push</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat</span> <span class="o">&gt;</span> Jenkinsfile <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
pipeline {
    agent any
    environment {
        DOCKER_IMAGE = 'sweetlittlebird/dev-app' // Docker ì´ë¯¸ì§€ ì´ë¦„
    }
    stages {
        stage('Checkout') {
            steps {
                 git branch: 'main',
                 url: 'https://gitlab.com/littlebird/2024-cicd-lite-w1.git',  // Gitì—ì„œ ì½”ë“œ ì²´í¬ì•„ì›ƒ
                 credentialsId: 'gitlab-credentials'  // Credentials ID
            }
        }
        stage('Read VERSION') {
            steps {
                script {
                    // VERSION íŒŒì¼ ì½ê¸°
                    def version = readFile('VERSION').trim()
                    echo "Version found: </span><span class="se">\$</span><span class="sh">{version}"
                    // í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
                    env.DOCKER_TAG = version
                }
            }
        }
        stage('Docker Build and Push') {
            steps {
                script {
                    docker.withRegistry('https://index.docker.io/v1/', 'dockerhub-credentials') {
                        // DOCKER_TAG ì‚¬ìš©
                        def appImage = docker.build("</span><span class="se">\$</span><span class="sh">{DOCKER_IMAGE}:</span><span class="se">\$</span><span class="sh">{DOCKER_TAG}")
                        appImage.push()
                    }
                }
            }
        }
    }
    post {
        success {
            echo "Docker image </span><span class="se">\$</span><span class="sh">{DOCKER_IMAGE}:</span><span class="se">\$</span><span class="sh">{DOCKER_TAG} has been built and pushed successfully!"
        }
        failure {
            echo "Pipeline failed. Please check the logs."
        }
    }
}
</span><span class="no">EOF
  
</span><span class="c"># ë²„ì „ ì—…ë°ì´íŠ¸</span>
<span class="nv">$ </span><span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh"> &gt; VERSION
0.0.2
</span><span class="no">EOF
  
</span><span class="nv">$ </span>git add <span class="nb">.</span>
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Add Jenkinsfile"</span>
<span class="c"># =&gt; [main e5671f2] Add Jenkinsfile</span>
<span class="c">#     1 file changed, 45 insertions(+)</span>
<span class="c">#     create mode 100644 Jenkinsfile</span>
<span class="nv">$ </span>git push <span class="nt">-u</span> origin main
<span class="c"># =&gt; Enumerating objects: 4, done.</span>
<span class="c">#    Counting objects: 100% (4/4), done.</span>
<span class="c">#    Delta compression using up to 8 threads</span>
<span class="c">#    Compressing objects: 100% (3/3), done.</span>
<span class="c">#    Writing objects: 100% (3/3), 859 bytes | 859.00 KiB/s, done.</span>
<span class="c">#    Total 3 (delta 1), reused 0 (delta 0), pack-reused 0</span>
<span class="c">#    To https://gitlab.com/littlebird/2024-cicd-lite-w1.git</span>
<span class="c">#       41a6efc..e5671f2  main -&amp;gt; main</span>
<span class="c">#    branch 'main' set up to track 'origin/main'.</span>
</code></pre></div>    </div>
  </li>
  <li>Jenkins íŠ¸ë¦¬ê±° ë¹Œë“œ í™•ì¸
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_32.png" alt="img.png" loading="lazy" width="1263" height="883">
    <ul>
      <li>git pushì— ì˜í•´ ìë™ìœ¼ë¡œ ë¹Œë“œê°€ ì˜ ë˜ì—ˆìŠµë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>Docker ì €ì¥ì†Œ í™•ì¸
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_33.png" alt="img.png" loading="lazy" width="1392" height="646">
    <ul>
      <li>Docker Hubì— ìˆ˜ì •ëœ 0.0.2 ë²„ì „ì˜ ì´ë¯¸ì§€ê°€ ì—…ë¡œë“œ ë˜ì—ˆìŠµë‹ˆë‹¤.</li>
    </ul>
  </li>
  <li>
    <p>Gitlab Webhook ê¸°ë¡ í™•ì¸
<img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_34.png" alt="img.png" class="image-center" loading="lazy" width="1392" height="981"></p>
  </li>
  <li>
    <p>app.rb ì†ŒìŠ¤ì™€ VERSION ë³€ê²½ í›„ Jenkins íŠ¸ë¦¬ê±° ì‘ì—… í•œë²ˆ ë” í™•ì¸</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="c"># app.rb ìˆ˜ì •</span>
<span class="nv">$ </span><span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/Hello, World!/Hello, Jenkins! ğŸ˜€/'</span> app.rb
  
<span class="c"># VERSION ìˆ˜ì •</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"0.0.3"</span> <span class="o">&gt;</span> VERSION
  
<span class="nv">$ </span>git add <span class="nb">.</span> <span class="o">&amp;&amp;</span> git commit <span class="nt">-m</span> <span class="s2">"Update app.rb and VERSION </span><span class="si">$(</span><span class="nb">cat </span>VERSION<span class="si">)</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> git push <span class="nt">-u</span> origin main
<span class="c"># =&gt; [main a100e97] Update app.rb and VERSION 0.0.3</span>
<span class="c">#     3 files changed, 7 insertions(+), 2 deletions(-)</span>
<span class="c">#     create mode 100644 app.rb-e</span>
<span class="c">#    Enumerating objects: 7, done.</span>
<span class="c">#    Counting objects: 100% (7/7), done.</span>
<span class="c">#    Delta compression using up to 8 threads</span>
<span class="c">#    Compressing objects: 100% (3/3), done.</span>
<span class="c">#    Writing objects: 100% (4/4), 509 bytes | 509.00 KiB/s, done.</span>
<span class="c">#    Total 4 (delta 0), reused 0 (delta 0), pack-reused 0</span>
<span class="c">#    To https://gitlab.com/littlebird/2024-cicd-lite-w1.git</span>
<span class="c">#       1bd4fcb..a100e97  main -&amp;gt; main</span>
<span class="c">#    branch 'main' set up to track 'origin/main'.</span>
</code></pre></div>    </div>

    <p><img src="/assets/2024/cicd-lite/w1/20241205_cicd_lite_w1_35.png" alt="img.png" loading="lazy" width="1392" height="646"></p>
    <ul>
      <li>ë¹Œë“œê°€ ì˜ ë˜ê³  Docker Hubì— ì´ë¯¸ì§€ê°€ ì—…ë¡œë“œ ë˜ì—ˆìŠµë‹ˆë‹¤.</li>
    </ul>
  </li>
</ul>

<h5 id="jenkins-ë¹Œë“œ-í›„-ì»¨í…Œì´ë„ˆ-ì‹¤í–‰">Jenkins ë¹Œë“œ í›„ ì»¨í…Œì´ë„ˆ ì‹¤í–‰</h5>

<ul>
  <li>Jenkins pipline ë¹Œë“œ í›„ Docker ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ëŠ” íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
  <li>
    <p>Jenkinsfile ìˆ˜ì •</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>pipeline <span class="o">{</span>
    agent any
    environment <span class="o">{</span>
        DOCKER_IMAGE <span class="o">=</span> <span class="s1">'sweetlittlebird/dev-app'</span> // Docker ì´ë¯¸ì§€ ì´ë¦„
        CONTAINER_NAME <span class="o">=</span> <span class="s1">'dev-app'</span>  // Docker ì»¨í…Œì´ë„ˆ ì´ë¦„
    <span class="o">}</span>
    stages <span class="o">{</span>
        stage<span class="o">(</span><span class="s1">'Checkout'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                git branch: <span class="s1">'main'</span>,
                url: <span class="s1">'https://gitlab.com/littlebird/2024-cicd-lite-w1.git'</span>,  // Gitì—ì„œ ì½”ë“œ ì²´í¬ì•„ì›ƒ
                credentialsId: <span class="s1">'gitlab-credentials'</span>  // Credentials ID
            <span class="o">}</span>
        <span class="o">}</span>
        stage<span class="o">(</span><span class="s1">'Read VERSION'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                script <span class="o">{</span>
                    // VERSION íŒŒì¼ ì½ê¸°
                    def version <span class="o">=</span> readFile<span class="o">(</span><span class="s1">'VERSION'</span><span class="o">)</span>.trim<span class="o">()</span>
                    <span class="nb">echo</span> <span class="s2">"Version found: </span><span class="k">${</span><span class="nv">version</span><span class="k">}</span><span class="s2">"</span>
                    // í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
                    env.DOCKER_TAG <span class="o">=</span> version
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        stage<span class="o">(</span><span class="s1">'Docker Build and Push'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                script <span class="o">{</span>
                    docker.withRegistry<span class="o">(</span><span class="s1">'https://index.docker.io/v1/'</span>, <span class="s1">'dockerhub-credentials'</span><span class="o">)</span> <span class="o">{</span>
                        // DOCKER_TAG ì‚¬ìš©
                        def appImage <span class="o">=</span> docker.build<span class="o">(</span><span class="s2">"</span><span class="k">${</span><span class="nv">DOCKER_IMAGE</span><span class="k">}</span><span class="s2">:</span><span class="k">${</span><span class="nv">DOCKER_TAG</span><span class="k">}</span><span class="s2">"</span><span class="o">)</span>
                        appImage.push<span class="o">()</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        stage<span class="o">(</span><span class="s1">'Check, Stop and Run Docker Container'</span><span class="o">)</span> <span class="o">{</span>
            steps <span class="o">{</span>
                script <span class="o">{</span>
                    // ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ í™•ì¸
                    def isRunning <span class="o">=</span> sh<span class="o">(</span>
                        script: <span class="s2">"docker ps -q -f name=</span><span class="k">${</span><span class="nv">CONTAINER_NAME</span><span class="k">}</span><span class="s2">"</span>,
                        returnStdout: <span class="nb">true</span>
                    <span class="o">)</span>.trim<span class="o">()</span>
                      
                    <span class="k">if</span> <span class="o">(</span>isRunning<span class="o">)</span> <span class="o">{</span>
                        <span class="nb">echo</span> <span class="s2">"Container '</span><span class="k">${</span><span class="nv">CONTAINER_NAME</span><span class="k">}</span><span class="s2">' is already running. Stopping it..."</span>
                        // ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ì¤‘ì§€
                        sh <span class="s2">"docker stop </span><span class="k">${</span><span class="nv">CONTAINER_NAME</span><span class="k">}</span><span class="s2">"</span>
                        // ì»¨í…Œì´ë„ˆ ì œê±°
                        sh <span class="s2">"docker rm </span><span class="k">${</span><span class="nv">CONTAINER_NAME</span><span class="k">}</span><span class="s2">"</span>
                        <span class="nb">echo</span> <span class="s2">"Container '</span><span class="k">${</span><span class="nv">CONTAINER_NAME</span><span class="k">}</span><span class="s2">' stopped and removed."</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="nb">echo</span> <span class="s2">"Container '</span><span class="k">${</span><span class="nv">CONTAINER_NAME</span><span class="k">}</span><span class="s2">' is not running."</span>
                    <span class="o">}</span>
                      
                    // 5ì´ˆ ëŒ€ê¸°
                    <span class="nb">echo</span> <span class="s2">"Waiting for 5 seconds before starting the new container..."</span>
                    <span class="nb">sleep</span><span class="o">(</span>5<span class="o">)</span>
                      
                    // ì‹ ê·œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰
                    <span class="nb">echo</span> <span class="s2">"Starting a new container '</span><span class="k">${</span><span class="nv">CONTAINER_NAME</span><span class="k">}</span><span class="s2">'..."</span>
                    sh <span class="s2">"""
                    docker run -d --name </span><span class="k">${</span><span class="nv">CONTAINER_NAME</span><span class="k">}</span><span class="s2"> -p 4000:4567 </span><span class="k">${</span><span class="nv">DOCKER_IMAGE</span><span class="k">}</span><span class="s2">:</span><span class="k">${</span><span class="nv">DOCKER_TAG</span><span class="k">}</span><span class="s2">
                    """</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>        
    <span class="o">}</span>
    post <span class="o">{</span>
        success <span class="o">{</span>
            <span class="nb">echo</span> <span class="s2">"Docker image </span><span class="k">${</span><span class="nv">DOCKER_IMAGE</span><span class="k">}</span><span class="s2">:</span><span class="k">${</span><span class="nv">DOCKER_TAG</span><span class="k">}</span><span class="s2"> has been built and pushed successfully!"</span>
        <span class="o">}</span>
        failure <span class="o">{</span>
            <span class="nb">echo</span> <span class="s2">"Pipeline failed. Please check the logs."</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>git commit í›„ push</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">echo </span>0.0.4 <span class="o">&gt;</span> VERSION
  
<span class="nv">$ </span>git add <span class="nb">.</span> <span class="o">&amp;&amp;</span> git commit <span class="nt">-m</span> <span class="s2">"Update Jenkinsfile </span><span class="si">$(</span><span class="nb">cat </span>VERSION<span class="si">)</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> git push <span class="nt">-u</span> origin main
<span class="c"># =&gt; [main 25e5c95] Update Jenkinsfile 0.0.4</span>
<span class="c">#     2 files changed, 2 insertions(+), 1 deletion(-)</span>
<span class="c">#    Enumerating objects: 7, done.</span>
<span class="c">#    Counting objects: 100% (7/7), done.</span>
<span class="c">#    Delta compression using up to 8 threads</span>
<span class="c">#    Compressing objects: 100% (3/3), done.</span>
<span class="c">#    Writing objects: 100% (4/4), 385 bytes | 385.00 KiB/s, done.</span>
<span class="c">#    Total 4 (delta 2), reused 0 (delta 0), pack-reused 0</span>
<span class="c">#    To https://gitlab.com/littlebird/2024-cicd-lite-w1.git</span>
<span class="c">#       26c809d..25e5c95  main -&amp;gt; main</span>
<span class="c">#    branch 'main' set up to track 'origin/main'.</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>ìƒì„±ëœ ì»¨í…Œì´ë„ˆ ì ‘ì† í™•ì¸</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker image <span class="nb">ls</span>
<span class="c"># =&gt; REPOSITORY                                                                   TAG           IMAGE ID       CREATED             SIZE</span>
<span class="c">#    sweetlittlebird/dev-app                                                      0.0.4         2f5f42fa7dd6   9 minutes ago       1.01GB</span>
<span class="c">#    ... </span>
<span class="nv">$ </span>docker ps <span class="nt">--filter</span> <span class="nv">name</span><span class="o">=</span>dev-app
<span class="c"># =&gt; CONTAINER ID   IMAGE                           COMMAND                  CREATED         STATUS         PORTS                  NAMES</span>
<span class="c">#    e5d4760ea725   sweetlittlebird/dev-app:0.0.4   &amp;quot;ruby app.rb -o 0.0.â€¦&amp;quot;   2 minutes ago   Up 2 minutes   0.0.0.0:4000-&amp;gt;80/tcp   dev-app</span>
<span class="nv">$ </span>curl http://localhost:4000
<span class="c"># =&gt; Hello, Jenkins! ğŸ˜€ The time is 2024-10-01 15:49:44 +0000!!</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>app.rbì™€ VERSION ìˆ˜ì • í›„ push í›„ ì»¨í…Œì´ë„ˆ ì ‘ì† í›„ ë°˜ì˜ í™•ì¸</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="c"># app.rb ìˆ˜ì •</span>
<span class="nv">$ </span><span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/Hello, Jenkins! ğŸ˜€/Hello, Jenkins again!!! ğŸ˜/'</span> app.rb
  
<span class="c"># VERSION ìˆ˜ì •</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"0.0.5"</span> <span class="o">&gt;</span> VERSION
  
<span class="nv">$ </span>git add <span class="nb">.</span> <span class="o">&amp;&amp;</span> git commit <span class="nt">-m</span> <span class="s2">"Update app.rb and VERSION </span><span class="si">$(</span><span class="nb">cat </span>VERSION<span class="si">)</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> git push <span class="nt">-u</span> origin main
<span class="c"># =&gt; [main 70eaa32] Update app.rb and VERSION 0.0.5</span>
<span class="c">#     3 files changed, 3 insertions(+), 3 deletions(-)</span>
<span class="c">#    Enumerating objects: 7, done.</span>
<span class="c">#    Counting objects: 100% (7/7), done.</span>
<span class="c">#    Delta compression using up to 8 threads</span>
<span class="c">#    Compressing objects: 100% (3/3), done.</span>
<span class="c">#    Writing objects: 100% (4/4), 519 bytes | 519.00 KiB/s, done.</span>
<span class="c">#    Total 4 (delta 0), reused 0 (delta 0), pack-reused 0</span>
<span class="c">#    To https://gitlab.com/littlebird/2024-cicd-lite-w1.git</span>
<span class="c">#       cc87e97..70eaa32  main -&amp;gt; main</span>
<span class="c">#    branch 'main' set up to track 'origin/main'.</span>
  
<span class="c"># í˜¸ìŠ¤íŠ¸ PCì—ì„œ ë°˜ë³µ ì ‘ì† ì‹¤í–‰ : ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì‹œê°„ ì²´í¬!</span>
<span class="nv">$ </span><span class="k">while </span><span class="nb">true</span><span class="p">;</span> <span class="k">do </span>curl <span class="nt">-s</span> <span class="nt">--connect-timeout</span> 1 http://127.0.0.1:4000 <span class="p">;</span> <span class="nb">date</span><span class="p">;</span> <span class="nb">sleep </span>1 <span class="p">;</span> <span class="k">done</span>
<span class="c"># =&gt; Hello, Jenkins again!!! ğŸ˜ The time is 2024-10-01 15:52:25 +0000!!Sun Oct  1 00:52:25 KST 2024</span>
<span class="c">#    Hello, Jenkins again!!! ğŸ˜ The time is 2024-10-01 15:52:26 +0000!!Sun Oct  1 00:52:26 KST 2024</span>
<span class="c">#    Sun Oct  1 00:52:27 KST 2024</span>
<span class="c">#    Sun Oct  1 00:52:28 KST 2024</span>
<span class="c">#    Sun Oct  1 00:52:29 KST 2024</span>
<span class="c">#    Sun Oct  1 00:52:30 KST 2024</span>
<span class="c">#    Sun Oct  1 00:52:31 KST 2024</span>
<span class="c">#    Sun Oct  1 00:52:32 KST 2024</span>
<span class="c">#    Hello, Jenkins again!!! ğŸ˜ The time is 2024-10-01 15:52:33 +0000!!Sun Oct  1 00:52:33 KST 2024</span>
<span class="c">#    Hello, Jenkins again!!! ğŸ˜ The time is 2024-10-01 15:52:34 +0000!!Sun Oct  1 00:52:34 KST 2024</span>
<span class="c">#    Hello, Jenkins again!!! ğŸ˜ The time is 2024-10-01 15:52:35 +0000!!Sun Oct  1 00:52:35 KST 2024</span>
</code></pre></div>    </div>
  </li>
  <li>ìˆ˜ì •ì‚¬í•­ì´ ì ìš©ì€ ì˜ ë˜ì—ˆì§€ë§Œ 6~7ì´ˆ ê°€ëŸ‰ ì„œë¹„ìŠ¤ê°€ ì¤‘ë‹¨ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì»¨í…Œì´ë„ˆ ì¤‘ì§€ ë° ì¬ì‹œì‘ ì‹œê°„ì´ ì†Œìš”ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</li>
  <li>ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ docker swarmì´ë‚˜ kubernetes ë“±ì˜ ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ íˆ´ì„ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ì´ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ ë¶€ë¶„ì€ ë‹¤ìŒì— ë‹¤ë£¨ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</li>
</ul>

<h2 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°</h2>

<p>ì´ë²ˆ ì‹œê°„ì—ëŠ” Jenkins, Gitlab ë“±ì„ ì‚¬ìš©í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.
ë‹¤ì–‘í•˜ê²Œ í…ŒìŠ¤íŠ¸í•´ë³´ê³  ì‹¶ì—ˆëŠ”ë° ìƒê°ë³´ë‹¤ ì •ë¦¬í•˜ëŠ”ë° ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ì–´ ë‹¤ì–‘í•œ ì˜ˆì œë¥¼ ë‹¤ë£¨ì§€ ëª»í•œ ì ì´ ì•„ì‰½ìŠµë‹ˆë‹¤.</p>

<p>JenkinsëŠ” ì˜ˆì „ì— ì¨ë³´ê³  Teamcityë‚˜ Github actionì„ ì£¼ë¡œ ì‚¬ìš©í•´ì™”ëŠ”ë°, 
ë‹¤ì‹œ ì‚¬ìš©í•´ë³´ë‹ˆ Jenkinsë„ Jenkinsfileê³¼ Pipelineë„ ì§€ì›í•˜ê³  ì˜ˆì „ì— ë¹„í•´ì„œ í›¨ì”¬ ì¢‹ì•„ì§„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì´ë²ˆ ìŠ¤í„°ë””ë¥¼ í†µí•´ Jenkinsë¥¼ ì¬ë°œê²¬í•œê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì¤€ë¹„í•´ì£¼ì‹  Gasida ë‹˜ê»˜ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.</p>

  </div>

  <div id="toc-minimap" class="toc-minimap collapsed">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0">ë“¤ì–´ê°€ë©°</a></li>
<li class="toc-entry toc-h2">
<a href="#jenkins-cicd--docker">Jenkins CI/CD + Docker</a>
<ul>
<li class="toc-entry toc-h3"><a href="#cicd%EB%9E%80">CI/CDë€?</a></li>
<li class="toc-entry toc-h3">
<a href="#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EA%B0%9C%EB%B0%9C">ì»¨í…Œì´ë„ˆë¥¼ ì´ìš©í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ</a>
<ul>
<li class="toc-entry toc-h4"><a href="#ruby%EB%A1%9C-%ED%8A%B9%EC%A0%95-%EB%AC%B8%EC%9E%90%EC%97%B4-%EC%B6%9C%EB%A0%A5%ED%95%98%EB%8A%94-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EB%A7%8C%EB%93%A4%EA%B8%B0">rubyë¡œ íŠ¹ì • ë¬¸ìì—´ ì¶œë ¥í•˜ëŠ” ê°„ë‹¨í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸°</a></li>
<li class="toc-entry toc-h4"><a href="#compiling-code-in-docker">Compiling code in Docker</a></li>
<li class="toc-entry toc-h4"><a href="#%EB%A9%80%ED%8B%B0-%EC%8A%A4%ED%85%8C%EC%9D%B4%EC%A7%80-%EB%B9%8C%EB%93%9C">ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œ</a></li>
<li class="toc-entry toc-h4"><a href="#jib%EB%A1%9C-%EC%9E%90%EB%B0%94-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%B9%8C%EB%93%9C">Jibë¡œ ìë°” ì»¨í…Œì´ë„ˆ ë¹Œë“œ</a></li>
<li class="toc-entry toc-h4"><a href="#%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%84%9C%EB%B2%84-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%ED%99%94-%ED%95%98%EA%B8%B0">ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ì»¨í…Œì´ë„ˆí™” í•˜ê¸°</a></li>
<li class="toc-entry toc-h4"><a href="#%EB%A1%9C%EC%BB%AC-%EA%B0%9C%EB%B0%9C%EC%9D%84-%EC%9C%84%ED%95%9C-%EB%B0%A9%EC%95%88">ë¡œì»¬ ê°œë°œì„ ìœ„í•œ ë°©ì•ˆ</a></li>
</ul>
</li>
<li class="toc-entry toc-h3">
<a href="#cicd-%EC%8B%A4%EC%8A%B5%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1">CI/CD ì‹¤ìŠµí™˜ê²½ êµ¬ì„±</a>
<ul>
<li class="toc-entry toc-h4"><a href="#jenkins-%EC%86%8C%EA%B0%9C">Jenkins ì†Œê°œ</a></li>
<li class="toc-entry toc-h4"><a href="#jenkins-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EC%8B%A4%ED%96%89-%EB%B0%8F-%EC%84%A4%EC%A0%95">Jenkins ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ë° ì„¤ì •</a></li>
<li class="toc-entry toc-h4"><a href="#gitlab-%EC%86%8C%EA%B0%9C">Gitlab ì†Œê°œ</a></li>
<li class="toc-entry toc-h4"><a href="#gitlab-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%84%A4%EC%A0%95">Gitlab í”„ë¡œì íŠ¸ ìƒì„± ë° ì„¤ì •</a></li>
<li class="toc-entry toc-h4"><a href="#docker-hub-%EC%86%8C%EA%B0%9C">Docker Hub ì†Œê°œ</a></li>
<li class="toc-entry toc-h4"><a href="#docker-hub%EC%97%90-dev-app-private-repo-%EC%83%9D%EC%84%B1">Docker Hubì— dev-app (private) repo ìƒì„±</a></li>
</ul>
</li>
<li class="toc-entry toc-h3">
<a href="#jenkins-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9">Jenkins ê¸°ë³¸ ì‚¬ìš©</a>
<ul>
<li class="toc-entry toc-h4"><a href="#jenkins-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98">Jenkins í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜</a></li>
<li class="toc-entry toc-h4"><a href="#%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8">íŒŒì´í”„ë¼ì¸</a></li>
<li class="toc-entry toc-h4"><a href="#%EB%8F%84%EC%BB%A4-%EA%B8%B0%EB%B0%98-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EC%9D%98-cicd-%EA%B5%AC%EC%84%B1">ë„ì»¤ ê¸°ë°˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ CI/CD êµ¬ì„±</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#%EB%A7%88%EC%B9%98%EB%A9%B0">ë§ˆì¹˜ë©°</a></li>
</ul>
  </div>
<a class="u-url" href="/posts/2024-12-08-CICD-Lite-Week1/" hidden></a>
</article>



<div class="PageNavigation">
  
  <a class="prev" href="/posts/2024-11-03-KANS-Study-Week9/">Â« [KANS 3ê¸°] AWS EKS : VPC CNI</a>
  
  
  <a class="next" href="/posts/2024-12-14-CICD-Lite-Week2/">[CI/CD] GitHub Actions CI/CD Â»</a>
  
</div>

<div id="disqus_thread"></div>
<script>
var disqus_config = function () {
this.page.url = "https://sweetlittlebird.github.io/posts/2024-12-08-CICD-Lite-Week1/";
this.page.identifier = "/posts/CICD Lite - Week1";
};
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
      </div>

<!--      <div class="adsbygoogle-side">-->
<!--        &lt;!&ndash; ad_side &ndash;&gt;-->
<!--        <ins class="adsbygoogle "-->
<!--             style="display: block"-->
<!--             data-ad-client="ca-pub-6564723532026864"-->
<!--             data-ad-slot="1339398797"-->
<!--             data-ad-format="auto"-->
<!--             data-full-width-responsive="true"></ins>-->
<!--      </div>-->
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Sweet Little Bird</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Sweet Little Bird</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/sweetlittlebird"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">sweetlittlebird</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>ê³µë¶€ ê¸°ë¡ê³¼ ê°œë°œ ì´ì•¼ê¸°ë¥¼ ë‹´ì€ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.</p>
      </div>
    </div>

  </div>

</footer>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
      <!-- Background of PhotoSwipe. 
           It's a separate element as animating opacity is faster than rgba(). -->
      <div class="pswp__bg"></div>
      <!-- Slides wrapper with overflow:hidden. -->
      <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
          <div class="pswp__item"></div>
          <div class="pswp__item"></div>
          <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
          <div class="pswp__top-bar">
            <!--  Controls are self-explanatory. Order can be changed. -->
            <div class="pswp__counter"></div>
            <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
            <button class="pswp__button pswp__button--share" title="Share"></button>
            <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
            <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
            <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
            <!-- element will get class pswp__preloader--active when preloader is running -->
            <div class="pswp__preloader">
              <div class="pswp__preloader__icn">
                <div class="pswp__preloader__cut">
                  <div class="pswp__preloader__donut"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
            <div class="pswp__share-tooltip"></div>
          </div>
          <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
          </button>
          <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
          </button>
          <div class="pswp__caption">
            <div class="pswp__caption__center"></div>
          </div>
        </div>
      </div>
    </div>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EWGY9N8QXY"></script>

    
    <script async src="/assets/dist/app.min.js"></script>
    
  
    <a href="#" id="back-to-top"><span>Back to Top</span></a>

<!--    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6564723532026864"-->
<!--            crossorigin="anonymous"></script>-->
<!--    <script>-->
<!--    (adsbygoogle = window.adsbygoogle || []).push({});-->
<!--    </script>-->
  </body>

</html>
